(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Bn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ln(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rn={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Bn,function(){var n=1e3,r=6e4,s=36e5,a="millisecond",o="second",i="minute",c="hour",l="day",u="week",f="month",d="quarter",p="year",h="date",y="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var S=["th","st","nd","rd"],x=M%100;return"["+M+(S[(x-20)%10]||S[x]||S[0])+"]"}},O=function(M,S,x){var F=String(M);return!F||F.length>=S?M:""+Array(S+1-F.length).join(x)+M},I={s:O,z:function(M){var S=-M.utcOffset(),x=Math.abs(S),F=Math.floor(x/60),P=x%60;return(S<=0?"+":"-")+O(F,2,"0")+":"+O(P,2,"0")},m:function M(S,x){if(S.date()<x.date())return-M(x,S);var F=12*(x.year()-S.year())+(x.month()-S.month()),P=S.clone().add(F,f),L=x-P<0,B=S.clone().add(F+(L?-1:1),f);return+(-(F+(x-P)/(L?P-B:B-P))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:f,y:p,w:u,d:l,D:h,h:c,m:i,s:o,ms:a,Q:d}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},v="en",$={};$[v]=k;var w=function(M){return M instanceof U},N=function M(S,x,F){var P;if(!S)return v;if(typeof S=="string"){var L=S.toLowerCase();$[L]&&(P=L),x&&($[L]=x,P=L);var B=S.split("-");if(!P&&B.length>1)return M(B[0])}else{var z=S.name;$[z]=S,P=z}return!F&&P&&(v=P),P||!F&&v},A=function(M,S){if(w(M))return M.clone();var x=typeof S=="object"?S:{};return x.date=M,x.args=arguments,new U(x)},T=I;T.l=N,T.i=w,T.w=function(M,S){return A(M,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var U=function(){function M(x){this.$L=N(x.locale,null,!0),this.parse(x)}var S=M.prototype;return S.parse=function(x){this.$d=function(F){var P=F.date,L=F.utc;if(P===null)return new Date(NaN);if(T.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var B=P.match(m);if(B){var z=B[2]-1||0,V=(B[7]||"0").substring(0,3);return L?new Date(Date.UTC(B[1],z,B[3]||1,B[4]||0,B[5]||0,B[6]||0,V)):new Date(B[1],z,B[3]||1,B[4]||0,B[5]||0,B[6]||0,V)}}return new Date(P)}(x),this.$x=x.x||{},this.init()},S.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},S.$utils=function(){return T},S.isValid=function(){return this.$d.toString()!==y},S.isSame=function(x,F){var P=A(x);return this.startOf(F)<=P&&P<=this.endOf(F)},S.isAfter=function(x,F){return A(x)<this.startOf(F)},S.isBefore=function(x,F){return this.endOf(F)<A(x)},S.$g=function(x,F,P){return T.u(x)?this[F]:this.set(P,x)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(x,F){var P=this,L=!!T.u(F)||F,B=T.p(x),z=function(Ce,ee){var ye=T.w(P.$u?Date.UTC(P.$y,ee,Ce):new Date(P.$y,ee,Ce),P);return L?ye:ye.endOf(l)},V=function(Ce,ee){return T.w(P.toDate()[Ce].apply(P.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(ee)),P)},W=this.$W,Z=this.$M,me=this.$D,oe="set"+(this.$u?"UTC":"");switch(B){case p:return L?z(1,0):z(31,11);case f:return L?z(1,Z):z(0,Z+1);case u:var qe=this.$locale().weekStart||0,He=(W<qe?W+7:W)-qe;return z(L?me-He:me+(6-He),Z);case l:case h:return V(oe+"Hours",0);case c:return V(oe+"Minutes",1);case i:return V(oe+"Seconds",2);case o:return V(oe+"Milliseconds",3);default:return this.clone()}},S.endOf=function(x){return this.startOf(x,!1)},S.$set=function(x,F){var P,L=T.p(x),B="set"+(this.$u?"UTC":""),z=(P={},P[l]=B+"Date",P[h]=B+"Date",P[f]=B+"Month",P[p]=B+"FullYear",P[c]=B+"Hours",P[i]=B+"Minutes",P[o]=B+"Seconds",P[a]=B+"Milliseconds",P)[L],V=L===l?this.$D+(F-this.$W):F;if(L===f||L===p){var W=this.clone().set(h,1);W.$d[z](V),W.init(),this.$d=W.set(h,Math.min(this.$D,W.daysInMonth())).$d}else z&&this.$d[z](V);return this.init(),this},S.set=function(x,F){return this.clone().$set(x,F)},S.get=function(x){return this[T.p(x)]()},S.add=function(x,F){var P,L=this;x=Number(x);var B=T.p(F),z=function(Z){var me=A(L);return T.w(me.date(me.date()+Math.round(Z*x)),L)};if(B===f)return this.set(f,this.$M+x);if(B===p)return this.set(p,this.$y+x);if(B===l)return z(1);if(B===u)return z(7);var V=(P={},P[i]=r,P[c]=s,P[o]=n,P)[B]||1,W=this.$d.getTime()+x*V;return T.w(W,this)},S.subtract=function(x,F){return this.add(-1*x,F)},S.format=function(x){var F=this,P=this.$locale();if(!this.isValid())return P.invalidDate||y;var L=x||"YYYY-MM-DDTHH:mm:ssZ",B=T.z(this),z=this.$H,V=this.$m,W=this.$M,Z=P.weekdays,me=P.months,oe=function(ee,ye,At,st){return ee&&(ee[ye]||ee(F,L))||At[ye].slice(0,st)},qe=function(ee){return T.s(z%12||12,ee,"0")},He=P.meridiem||function(ee,ye,At){var st=ee<12?"AM":"PM";return At?st.toLowerCase():st},Ce={YY:String(this.$y).slice(-2),YYYY:T.s(this.$y,4,"0"),M:W+1,MM:T.s(W+1,2,"0"),MMM:oe(P.monthsShort,W,me,3),MMMM:oe(me,W),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:oe(P.weekdaysMin,this.$W,Z,2),ddd:oe(P.weekdaysShort,this.$W,Z,3),dddd:Z[this.$W],H:String(z),HH:T.s(z,2,"0"),h:qe(1),hh:qe(2),a:He(z,V,!0),A:He(z,V,!1),m:String(V),mm:T.s(V,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:B};return L.replace(g,function(ee,ye){return ye||Ce[ee]||B.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(x,F,P){var L,B=T.p(F),z=A(x),V=(z.utcOffset()-this.utcOffset())*r,W=this-z,Z=T.m(this,z);return Z=(L={},L[p]=Z/12,L[f]=Z,L[d]=Z/3,L[u]=(W-V)/6048e5,L[l]=(W-V)/864e5,L[c]=W/s,L[i]=W/r,L[o]=W/n,L)[B]||W,P?Z:T.a(Z)},S.daysInMonth=function(){return this.endOf(f).$D},S.$locale=function(){return $[this.$L]},S.locale=function(x,F){if(!x)return this.$L;var P=this.clone(),L=N(x,F,!0);return L&&(P.$L=L),P},S.clone=function(){return T.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},M}(),J=U.prototype;return A.prototype=J,[["$ms",a],["$s",o],["$m",i],["$H",c],["$W",l],["$M",f],["$y",p],["$D",h]].forEach(function(M){J[M[1]]=function(S){return this.$g(S,M[0],M[1])}}),A.extend=function(M,S){return M.$i||(M(S,U,A),M.$i=!0),A},A.locale=N,A.isDayjs=w,A.unix=function(M){return A(1e3*M)},A.en=$[v],A.Ls=$,A.p={},A})})(Rn);var zr=Rn.exports;const ae=Ln(zr);var qn={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Bn,function(){var n,r,s=1e3,a=6e4,o=36e5,i=864e5,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l=31536e6,u=2592e6,f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:l,months:u,days:i,hours:o,minutes:a,seconds:s,milliseconds:1,weeks:6048e5},p=function(v){return v instanceof I},h=function(v,$,w){return new I(v,w,$.$l)},y=function(v){return r.p(v)+"s"},m=function(v){return v<0},g=function(v){return m(v)?Math.ceil(v):Math.floor(v)},k=function(v){return Math.abs(v)},O=function(v,$){return v?m(v)?{negative:!0,format:""+k(v)+$}:{negative:!1,format:""+v+$}:{negative:!1,format:""}},I=function(){function v(w,N,A){var T=this;if(this.$d={},this.$l=A,w===void 0&&(this.$ms=0,this.parseFromMilliseconds()),N)return h(w*d[y(N)],this);if(typeof w=="number")return this.$ms=w,this.parseFromMilliseconds(),this;if(typeof w=="object")return Object.keys(w).forEach(function(M){T.$d[y(M)]=w[M]}),this.calMilliseconds(),this;if(typeof w=="string"){var U=w.match(f);if(U){var J=U.slice(2).map(function(M){return M!=null?Number(M):0});return this.$d.years=J[0],this.$d.months=J[1],this.$d.weeks=J[2],this.$d.days=J[3],this.$d.hours=J[4],this.$d.minutes=J[5],this.$d.seconds=J[6],this.calMilliseconds(),this}}return this}var $=v.prototype;return $.calMilliseconds=function(){var w=this;this.$ms=Object.keys(this.$d).reduce(function(N,A){return N+(w.$d[A]||0)*d[A]},0)},$.parseFromMilliseconds=function(){var w=this.$ms;this.$d.years=g(w/l),w%=l,this.$d.months=g(w/u),w%=u,this.$d.days=g(w/i),w%=i,this.$d.hours=g(w/o),w%=o,this.$d.minutes=g(w/a),w%=a,this.$d.seconds=g(w/s),w%=s,this.$d.milliseconds=w},$.toISOString=function(){var w=O(this.$d.years,"Y"),N=O(this.$d.months,"M"),A=+this.$d.days||0;this.$d.weeks&&(A+=7*this.$d.weeks);var T=O(A,"D"),U=O(this.$d.hours,"H"),J=O(this.$d.minutes,"M"),M=this.$d.seconds||0;this.$d.milliseconds&&(M+=this.$d.milliseconds/1e3);var S=O(M,"S"),x=w.negative||N.negative||T.negative||U.negative||J.negative||S.negative,F=U.format||J.format||S.format?"T":"",P=(x?"-":"")+"P"+w.format+N.format+T.format+F+U.format+J.format+S.format;return P==="P"||P==="-P"?"P0D":P},$.toJSON=function(){return this.toISOString()},$.format=function(w){var N=w||"YYYY-MM-DDTHH:mm:ss",A={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return N.replace(c,function(T,U){return U||String(A[T])})},$.as=function(w){return this.$ms/d[y(w)]},$.get=function(w){var N=this.$ms,A=y(w);return A==="milliseconds"?N%=1e3:N=A==="weeks"?g(N/d[A]):this.$d[A],N===0?0:N},$.add=function(w,N,A){var T;return T=N?w*d[y(N)]:p(w)?w.$ms:h(w,this).$ms,h(this.$ms+T*(A?-1:1),this)},$.subtract=function(w,N){return this.add(w,N,!0)},$.locale=function(w){var N=this.clone();return N.$l=w,N},$.clone=function(){return h(this.$ms,this)},$.humanize=function(w){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!w)},$.valueOf=function(){return this.asMilliseconds()},$.milliseconds=function(){return this.get("milliseconds")},$.asMilliseconds=function(){return this.as("milliseconds")},$.seconds=function(){return this.get("seconds")},$.asSeconds=function(){return this.as("seconds")},$.minutes=function(){return this.get("minutes")},$.asMinutes=function(){return this.as("minutes")},$.hours=function(){return this.get("hours")},$.asHours=function(){return this.as("hours")},$.days=function(){return this.get("days")},$.asDays=function(){return this.as("days")},$.weeks=function(){return this.get("weeks")},$.asWeeks=function(){return this.as("weeks")},$.months=function(){return this.get("months")},$.asMonths=function(){return this.as("months")},$.years=function(){return this.get("years")},$.asYears=function(){return this.as("years")},v}();return function(v,$,w){n=w,r=w().$utils(),w.duration=function(T,U){var J=w.locale();return h(T,{$l:J},U)},w.isDuration=p;var N=$.prototype.add,A=$.prototype.subtract;$.prototype.add=function(T,U){return p(T)&&(T=T.asMilliseconds()),N.bind(this)(T,U)},$.prototype.subtract=function(T,U){return p(T)&&(T=T.asMilliseconds()),A.bind(this)(T,U)}}})})(qn);var Ur=qn.exports;const Wr=Ln(Ur),Kr="modulepreload",Gr=function(t){return"/"+t},Sn={},Hn=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=Gr(a),a in Sn)return;Sn[a]=!0;const o=a.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${i}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":Kr,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())};class R{constructor(e,n,r,s,a){this._legacyCanvasSize=R.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),r&&typeof r=="object"?this._onDecode=n:(console.warn(r||s||a?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=n),n=typeof r=="object"?r:{},this._onDecodeError=n.onDecodeError||(typeof r=="function"?r:this._onDecodeError),this._calculateScanRegion=n.calculateScanRegion||(typeof s=="function"?s:this._calculateScanRegion),this._preferredCamera=n.preferredCamera||a||this._preferredCamera,this._legacyCanvasSize=typeof r=="number"?r:typeof s=="number"?s:this._legacyCanvasSize,this._maxScansPerSecond=n.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let o=!1;if(e.hidden&&(e.hidden=!1,o=!0),document.body.contains(e)||(document.body.appendChild(e),o=!0),r=e.parentElement,n.highlightScanRegion||n.highlightCodeOutline){if(s=!!n.overlay,this.$overlay=n.overlay||document.createElement("div"),a=this.$overlay.style,a.position="absolute",a.display="none",a.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!s&&n.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}r.insertBefore(this.$overlay,this.$video.nextSibling)}n.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let i=window.getComputedStyle(e);i.display==="none"&&(e.style.setProperty("display","block","important"),o=!0),i.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),o=!0),o&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=R.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await R.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let n=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput"),r;try{e&&(await n()).every(s=>!s.label)&&(r=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await n()).map((s,a)=>({id:s.deviceId,label:s.label||(a===0?"Default Camera":`Camera ${a+1}`)}))}finally{r&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),R._stopVideoStream(r))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),R._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),R._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:n}=await this._getCameraStream();!this._active||this._paused?R._stopVideoStream(e):(this._setVideoMirror(n),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let n=()=>{this.$video.srcObject instanceof MediaStream&&(R._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(n(),!0):(await new Promise(r=>setTimeout(r,300)),this._paused?(n(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,n,r,s,a=!1,o=!1){let i,c=!1;n&&("scanRegion"in n||"qrEngine"in n||"canvas"in n||"disallowCanvasResizing"in n||"alsoTryWithoutScanRegion"in n||"returnDetailedScanResult"in n)?(i=n.scanRegion,r=n.qrEngine,s=n.canvas,a=n.disallowCanvasResizing||!1,o=n.alsoTryWithoutScanRegion||!1,c=!0):console.warn(n||r||s||a||o?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),n=!!r;try{let l,u;[r,l]=await Promise.all([r||R.createQrEngine(),R._loadImage(e)]),[s,u]=R._drawToCanvas(l,i,s,a);let f;if(r instanceof Worker){let d=r;n||R._postWorkerMessageSync(d,"inversionMode","both"),f=await new Promise((p,h)=>{let y,m,g,k=-1;m=I=>{I.data.id===k&&(d.removeEventListener("message",m),d.removeEventListener("error",g),clearTimeout(y),I.data.data!==null?p({data:I.data.data,cornerPoints:R._convertPoints(I.data.cornerPoints,i)}):h(R.NO_QR_CODE_FOUND))},g=I=>{d.removeEventListener("message",m),d.removeEventListener("error",g),clearTimeout(y),h("Scanner error: "+(I?I.message||I:"Unknown Error"))},d.addEventListener("message",m),d.addEventListener("error",g),y=setTimeout(()=>g("timeout"),1e4);let O=u.getImageData(0,0,s.width,s.height);k=R._postWorkerMessageSync(d,"decode",O,[O.data.buffer])})}else f=await Promise.race([new Promise((d,p)=>window.setTimeout(()=>p("Scanner error: timeout"),1e4)),(async()=>{try{var[d]=await r.detect(s);if(!d)throw R.NO_QR_CODE_FOUND;return{data:d.rawValue,cornerPoints:R._convertPoints(d.cornerPoints,i)}}catch(p){if(d=p.message||p,/not implemented|service unavailable/.test(d))return R._disableBarcodeDetector=!0,R.scanImage(e,{scanRegion:i,canvas:s,disallowCanvasResizing:a,alsoTryWithoutScanRegion:o});throw`Scanner error: ${d}`}})()]);return c?f:f.data}catch(l){if(!i||!o)throw l;let u=await R.scanImage(e,{qrEngine:r,canvas:s,disallowCanvasResizing:a});return c?u:u.data}finally{n||R._postWorkerMessage(r,"close")}}setGrayscaleWeights(e,n,r,s=!0){R._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:n,blue:r,useIntegerApproximation:s})}setInversionMode(e){R._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>Hn(()=>import("./qr-scanner-worker.min-5f44a019.js"),[]).then(r=>r.createWorker()),!(!R._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return e();let n=navigator.userAgentData;return n&&n.brands.some(({brand:r})=>/Chromium/i.test(r))&&/mac ?OS/i.test(n.platform)&&await n.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:r,platformVersion:s})=>/arm/i.test(r||"arm")&&13<=parseInt(s||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let n=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-n)/2),y:Math.round((e.videoHeight-n)/2),width:n,height:n,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,n=e.videoWidth,r=e.videoHeight,s=e.offsetWidth,a=e.offsetHeight,o=e.offsetLeft,i=e.offsetTop,c=window.getComputedStyle(e),l=c.objectFit,u=n/r,f=s/a;switch(l){case"none":var d=n,p=r;break;case"fill":d=s,p=a;break;default:(l==="cover"?u>f:u<f)?(p=a,d=p*u):(d=s,p=d/u),l==="scale-down"&&(d=Math.min(d,n),p=Math.min(p,r))}var[h,y]=c.objectPosition.split(" ").map((g,k)=>{const O=parseFloat(g);return g.endsWith("%")?(k?a-p:s-d)*O/100:O});c=this._scanRegion.width||n,f=this._scanRegion.height||r,l=this._scanRegion.x||0;var m=this._scanRegion.y||0;u=this.$overlay.style,u.width=`${c/n*d}px`,u.height=`${f/r*p}px`,u.top=`${i+y+m/r*p}px`,r=/scaleX\(-1\)/.test(e.style.transform),u.left=`${o+(r?s-h-d:h)+(r?n-l-c:l)/n*d}px`,u.transform=e.style.transform}})}static _convertPoints(e,n){if(!n)return e;let r=n.x||0,s=n.y||0,a=n.width&&n.downScaledWidth?n.width/n.downScaledWidth:1;n=n.height&&n.downScaledHeight?n.height/n.downScaledHeight:1;for(let o of e)o.x=o.x*a+r,o.y=o.y*n+s;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,n=1e3/this._maxScansPerSecond;e<n&&await new Promise(s=>setTimeout(s,n-e)),this._lastScanTimestamp=Date.now();try{var r=await R.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(s){if(!this._active)return;this._onDecodeError(s)}!R._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=R.createQrEngine()),r?(this._onDecode?this._onDecode(r):this._legacyOnDecode&&this._legacyOnDecode(r.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",r.cornerPoints.map(({x:s,y:a})=>`${s},${a}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==R.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",n=[{width:{min:1024}},{width:{min:768}},{}],r=n.map(s=>Object.assign({},s,{[e]:{exact:this._preferredCamera}}));for(let s of[...r,...n])try{let a=await navigator.mediaDevices.getUserMedia({video:s,audio:!1}),o=this._getFacingMode(a)||(s.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:a,facingMode:o}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let n of e.getTracks())n.stop(),e.removeTrack(n)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,n,r,s=!1){r=r||document.createElement("canvas");let a=n&&n.x?n.x:0,o=n&&n.y?n.y:0,i=n&&n.width?n.width:e.videoWidth||e.width,c=n&&n.height?n.height:e.videoHeight||e.height;return s||(s=n&&n.downScaledWidth?n.downScaledWidth:i,n=n&&n.downScaledHeight?n.downScaledHeight:c,r.width!==s&&(r.width=s),r.height!==n&&(r.height=n)),n=r.getContext("2d",{alpha:!1}),n.imageSmoothingEnabled=!1,n.drawImage(e,a,o,i,c,0,0,r.width,r.height),[r,n]}static async _loadImage(e){if(e instanceof Image)return await R._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let n=new Image;n.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await R._awaitImageLoad(n),n}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(n.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((n,r)=>{let s=a=>{e.removeEventListener("load",s),e.removeEventListener("error",s),a instanceof ErrorEvent?r("Image load error"):n()};e.addEventListener("load",s),e.addEventListener("error",s)})}static async _postWorkerMessage(e,n,r,s){return R._postWorkerMessageSync(await e,n,r,s)}static _postWorkerMessageSync(e,n,r,s){if(!(e instanceof Worker))return-1;let a=R._workerMessageId++;return e.postMessage({id:a,type:n,data:r},s),a}}R.DEFAULT_CANVAS_SIZE=400;R.NO_QR_CODE_FOUND="No QR code found";R._disableBarcodeDetector=!1;R._workerMessageId=0;function Ae(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new ls(t.type);return`${t.name}(${pt(t.inputs,{includeName:e})})`}function pt(t,{includeName:e=!1}={}){return t?t.map(n=>Vr(n,{includeName:e})).join(e?", ":","):""}function Vr(t,{includeName:e}){return t.type.startsWith("tuple")?`(${pt(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function fe(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function G(t){return fe(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Yr="1.0.7",Jr=t=>t,mt=t=>t,Zr=()=>`viem@${Yr}`;class b extends Error{constructor(e,n={}){var a;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Zr()});const r=n.cause instanceof b?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof b&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return zn(this,e)}}function zn(t,e){return e!=null&&e(t)?t:t.cause?zn(t.cause,e):t}class Qr extends b{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class kn extends b{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class en extends b{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${pt(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class yt extends b{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Xr extends b{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class es extends b{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${G(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class ts extends b{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class ns extends b{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"})}}class rs extends b{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class ss extends b{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class Tn extends b{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class ct extends b{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class as extends b{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class os extends b{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Ke extends b{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${pt(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class gt extends b{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ae(e,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class is extends b{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class cs extends b{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class us extends b{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class ls extends b{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class ds extends b{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class Un extends b{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class Wn extends b{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function Fe(t,{dir:e,size:n=32}={}){return typeof t=="string"?be(t,{dir:e,size:n}):fs(t,{dir:e,size:n})}function be(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Wn({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function fs(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Wn({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=e==="right";r[a?s:n-s-1]=t[a?s:t.length-s-1]}return r}class hs extends b{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class ps extends b{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class ms extends b{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function Me(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function xe(t,{size:e}){if(G(t)>e)throw new ms({givenSize:G(t),maxSize:e})}function tn(t,e={}){const{signed:n}=e;e.size&&xe(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function ys(t,e={}){let n=t;if(e.size&&(xe(n,{size:e.size}),n=Me(n)),Me(n)==="0x00")return!1;if(Me(n)==="0x01")return!0;throw new ps(n)}function Q(t,e={}){return Number(tn(t,e))}function gs(t,e={}){let n=rn(t);return e.size&&(xe(n,{size:e.size}),n=Me(n,{dir:"right"})),new TextDecoder().decode(n)}const bs=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function pe(t,e={}){return typeof t=="number"||typeof t=="bigint"?q(t,e):typeof t=="string"?nn(t,e):typeof t=="boolean"?Kn(t,e):Ge(t,e)}function Kn(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(xe(n,{size:e.size}),Fe(n,{size:e.size})):n}function Ge(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=bs[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(xe(r,{size:e.size}),Fe(r,{dir:"right",size:e.size})):r}function q(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const c=typeof t=="bigint"?"n":"";throw new hs({max:a?`${a}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Fe(i,{size:r}):i}const ws=new TextEncoder;function nn(t,e={}){const n=ws.encode(t);return Ge(n,e)}const vs=new TextEncoder;function ke(t,e={}){return typeof t=="number"||typeof t=="bigint"?$s(t,e):typeof t=="boolean"?xs(t,e):fe(t)?rn(t,e):ce(t,e)}function xs(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(xe(n,{size:e.size}),Fe(n,{size:e.size})):n}function rn(t,e={}){let n=t;e.size&&(xe(n,{size:e.size}),n=Fe(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=new Uint8Array(r.length/2);for(let a=0;a<s.length;a++){const o=a*2,i=r.slice(o,o+2),c=Number.parseInt(i,16);if(Number.isNaN(c)||c<0)throw new b(`Invalid byte sequence ("${i}" in "${r}").`);s[a]=c}return s}function $s(t,e){const n=q(t,e);return rn(n)}function ce(t,e={}){const n=vs.encode(t);return typeof e.size=="number"?(xe(n,{size:e.size}),Fe(n,{dir:"right",size:e.size})):n}const Ps=/((function|event)\s)?(.*)(\((.*)\))/;function Gn(t){const e=t.match(Ps),n=(e==null?void 0:e[2])||void 0,r=e==null?void 0:e[3],s=(e==null?void 0:e[5])||void 0;return{type:n,name:r,params:s}}function Es(t){return Gn(t).name}function Ss(t){const e=Gn(t).params,n=e==null?void 0:e.split(",").map(r=>r.trim().split(" "));return n==null?void 0:n.map(r=>({type:r[0],name:r[1]==="indexed"?r[2]:r[1],...r[1]==="indexed"?{indexed:!0}:{}}))}function Dt(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ks(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Vn(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Ts(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Dt(t.outputLen),Dt(t.blockLen)}function As(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Cs(t,e){Vn(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ie={number:Dt,bool:ks,bytes:Vn,hash:Ts,exists:As,output:Cs},at=BigInt(2**32-1),Ft=BigInt(32);function Yn(t,e=!1){return e?{h:Number(t&at),l:Number(t>>Ft&at)}:{h:Number(t>>Ft&at)|0,l:Number(t&at)|0}}function Is(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:o}=Yn(t[s],e);[n[s],r[s]]=[a,o]}return[n,r]}const Os=(t,e)=>BigInt(t>>>0)<<Ft|BigInt(e>>>0),Ms=(t,e,n)=>t>>>n,_s=(t,e,n)=>t<<32-n|e>>>n,Ds=(t,e,n)=>t>>>n|e<<32-n,Fs=(t,e,n)=>t<<32-n|e>>>n,js=(t,e,n)=>t<<64-n|e>>>n-32,Ns=(t,e,n)=>t>>>n-32|e<<64-n,Bs=(t,e)=>e,Ls=(t,e)=>t,Rs=(t,e,n)=>t<<n|e>>>32-n,qs=(t,e,n)=>e<<n|t>>>32-n,Hs=(t,e,n)=>e<<n-32|t>>>64-n,zs=(t,e,n)=>t<<n-32|e>>>64-n;function Us(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const Ws=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Ks=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Gs=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Vs=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Ys=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Js=(t,e,n,r,s,a)=>e+n+r+s+a+(t/2**32|0)|0,Ve={fromBig:Yn,split:Is,toBig:Os,shrSH:Ms,shrSL:_s,rotrSH:Ds,rotrSL:Fs,rotrBH:js,rotrBL:Ns,rotr32H:Bs,rotr32L:Ls,rotlSH:Rs,rotlSL:qs,rotlBH:Hs,rotlBL:zs,add:Us,add3L:Ws,add3H:Ks,add4L:Gs,add4H:Vs,add5H:Js,add5L:Ys};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zs=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Qs=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Qs)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xs(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function sn(t){if(typeof t=="string"&&(t=Xs(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class ea{clone(){return this._cloneInto()}}function ta(t){const e=r=>t().update(sn(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function na(t){const e=(r,s)=>t(s).update(sn(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const[Jn,Zn,Qn]=[[],[],[]],ra=BigInt(0),ze=BigInt(1),sa=BigInt(2),aa=BigInt(7),oa=BigInt(256),ia=BigInt(113);for(let t=0,e=ze,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Jn.push(2*(5*r+n)),Zn.push((t+1)*(t+2)/2%64);let s=ra;for(let a=0;a<7;a++)e=(e<<ze^(e>>aa)*ia)%oa,e&sa&&(s^=ze<<(ze<<BigInt(a))-ze);Qn.push(s)}const[ca,ua]=Ve.split(Qn,!0),An=(t,e,n)=>n>32?Ve.rotlBH(t,e,n):Ve.rotlSH(t,e,n),Cn=(t,e,n)=>n>32?Ve.rotlBL(t,e,n):Ve.rotlSL(t,e,n);function la(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const i=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],f=An(l,u,1)^n[i],d=Cn(l,u,1)^n[i+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=d}let s=t[2],a=t[3];for(let o=0;o<24;o++){const i=Zn[o],c=An(s,a,i),l=Cn(s,a,i),u=Jn[o];s=t[u],a=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let i=0;i<10;i++)n[i]=t[o+i];for(let i=0;i<10;i++)t[o+i]^=~n[(i+2)%10]&n[(i+4)%10]}t[0]^=ca[r],t[1]^=ua[r]}n.fill(0)}class bt extends ea{constructor(e,n,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ie.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Zs(this.state)}keccak(){la(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ie.exists(this);const{blockLen:n,state:r}=this;e=sn(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(n-this.pos,s-a);for(let i=0;i<o;i++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ie.exists(this,!1),Ie.bytes(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ie.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ie.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:o}=this;return e||(e=new bt(n,r,s,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const $e=(t,e,n)=>ta(()=>new bt(e,t,n));$e(6,144,224/8);$e(6,136,256/8);$e(6,104,384/8);$e(6,72,512/8);$e(1,144,224/8);const da=$e(1,136,256/8);$e(1,104,384/8);$e(1,72,512/8);const Xn=(t,e,n)=>na((r={})=>new bt(e,t,r.dkLen===void 0?n:r.dkLen,!0));Xn(31,168,128/8);Xn(31,136,256/8);function te(t,e){const n=e||"hex",r=da(fe(t,{strict:!1})?ke(t):t);return n==="bytes"?r:pe(r)}const er=t=>te(ke(t));function tr(t){const e=Es(t),n=Ss(t)||[];return er(`${e}(${n.map(({type:r})=>r).join(",")})`)}function nr(t){return er(`${t.name}(${t.inputs.map(({type:e})=>e).join(",")})`)}const rr=t=>typeof t=="string"?tr(t):nr(t);class Ye extends b{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const fa=/^0x[a-fA-F0-9]{40}$/;function ue(t){return fa.test(t)}function he(t){return typeof t[0]=="string"?an(t):ha(t)}function ha(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function an(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function K(t,e,n,{strict:r}={}){return fe(t,{strict:!1})?ma(t,e,n,{strict:r}):pa(t,e,n,{strict:r})}function sr(t,e){if(typeof e=="number"&&e>0&&e>G(t)-1)throw new Un({offset:e,position:"start",size:G(t)})}function ar(t,e,n){if(typeof e=="number"&&typeof n=="number"&&G(t)!==n-e)throw new Un({offset:n,position:"end",size:G(t)})}function pa(t,e,n,{strict:r}={}){sr(t,e);const s=t.slice(e,n);return r&&ar(s,e,n),s}function ma(t,e,n,{strict:r}={}){sr(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&ar(s,e,n),s}function Xe(t,e){if(t.length!==e.length)throw new ts({expectedLength:t.length,givenLength:e.length});const n=ya({params:t,values:e}),r=cn(n);return r.length===0?"0x":r}function ya({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(on({param:t[r],value:e[r]}));return n}function on({param:t,value:e}){const n=wt(t.type);if(n){const[r,s]=n;return ba(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return Pa(e,{param:t});if(t.type==="address")return ga(e);if(t.type==="bool")return va(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int");return xa(e,{signed:r})}if(t.type.startsWith("bytes"))return wa(e,{param:t});if(t.type==="string")return $a(e);throw new is(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function cn(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:o,encoded:i}=t[a];o?e+=32:e+=G(i)}const n=[],r=[];let s=0;for(let a=0;a<t.length;a++){const{dynamic:o,encoded:i}=t[a];o?(n.push(q(e+s,{size:32})),r.push(i),s+=G(i)):n.push(i)}return he([...n,...r])}function ga(t){if(!ue(t))throw new Ye({address:t});return{dynamic:!1,encoded:be(t.toLowerCase())}}function ba(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new us(t);if(!r&&t.length!==e)throw new Xr({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const a=[];for(let o=0;o<t.length;o++){const i=on({param:n,value:t[o]});i.dynamic&&(s=!0),a.push(i)}if(r||s){const o=cn(a);if(r){const i=q(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?he([i,o]):i}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:he(a.map(({encoded:o})=>o))}}function wa(t,{param:e}){const[n,r]=e.type.split("bytes");if(!r){const s=Math.ceil(G(t)/32),a=[];for(let o=0;o<s;o++)a.push(be(K(t,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:he([be(q(G(t),{size:32})),...a])}}if(G(t)!==parseInt(r))throw new es({expectedSize:parseInt(r),value:t});return{dynamic:!1,encoded:be(t,{dir:"right"})}}function va(t){return{dynamic:!1,encoded:be(Kn(t))}}function xa(t,{signed:e}){return{dynamic:!1,encoded:q(t,{size:32,signed:e})}}function $a(t){const e=nn(t),n=Math.ceil(G(e)/32),r=[];for(let s=0;s<n;s++)r.push(be(K(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:he([be(q(G(e),{size:32})),...r])}}function Pa(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const a=e.components[s],o=Array.isArray(t)?s:a.name,i=on({param:a,value:t[o]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?cn(r):he(r.map(({encoded:s})=>s))}}function wt(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function et({abi:t,args:e=[],name:n}){const r=t.filter(s=>"name"in s&&s.name===n);if(r.length!==0){if(r.length===1)return r[0];for(const s of r){if(!("inputs"in s))continue;if(!e||e.length===0){if(!s.inputs||s.inputs.length===0)return s;continue}if(!s.inputs||s.inputs.length===0||s.inputs.length!==e.length)continue;if(e.every((o,i)=>{const c="inputs"in s&&s.inputs[i];return c?jt(o,c):!1}))return s}return r[0]}}function jt(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ue(t);case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,a)=>jt(Object.values(t)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>jt(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function un({abi:t,eventName:e,args:n}){var i;let r=t[0];if(e&&(r=et({abi:t,args:n,name:e}),!r))throw new Tn(e,{docsPath:"/docs/contract/encodeEventTopics"});if(r.type!=="event")throw new Tn(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=Ae(r),a=rr(s);let o=[];if(n&&"inputs"in r){const c=(i=r.inputs)==null?void 0:i.filter(u=>"indexed"in u&&u.indexed),l=Array.isArray(n)?n:Object.values(n).length>0?(c==null?void 0:c.map(u=>n[u.name]))??[]:[];l.length>0&&(o=(c==null?void 0:c.map((u,f)=>Array.isArray(l[f])?l[f].map((d,p)=>In({param:u,value:l[f][p]})):l[f]?In({param:u,value:l[f]}):null))??[])}return[a,...o]}function In({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return te(ke(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new ds(t.type);return Xe([t],[e])}function vt(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:a,response:o,status:i,transport:c})=>{i==="success"&&e===a&&(n[o]=c.request)})),a=>n[a]||t.request}async function or(t,{address:e,abi:n,args:r,eventName:s,fromBlock:a,strict:o,toBlock:i}){const c=vt(t,{method:"eth_newFilter"}),l=s?un({abi:n,args:r,eventName:s}):void 0,u=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof a=="bigint"?q(a):a,toBlock:typeof i=="bigint"?q(i):i,topics:l}]});return{abi:n,args:r,eventName:s,id:u,request:c(u),strict:o,type:"event"}}function se(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const ir=t=>K(typeof t=="string"?tr(t):nr(t),0,4);function Pe({abi:t,args:e,functionName:n}){let r=t[0];if(n&&(r=et({abi:t,args:e,name:n}),!r))throw new ct(n,{docsPath:"/docs/contract/encodeFunctionData"});if(r.type!=="function")throw new ct(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const s=Ae(r),a=ir(s),o="inputs"in r&&r.inputs?Xe(r.inputs,e??[]):void 0;return an([a,o??"0x"])}const cr={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Ea={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Sa={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function ln(t,e){const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=te(ce(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(r[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());return`0x${s.join("")}`}function ka(t,e){if(!ue(t))throw new Ye({address:t});return ln(t,e)}function xt(t,e){if(e==="0x"&&t.length>0)throw new yt;if(G(e)&&G(e)<32)throw new en({data:e,params:t,size:G(e)});return Ta({data:e,params:t})}function Ta({data:t,params:e}){const n=[];let r=0;for(let s=0;s<e.length;s++){if(r>=G(t))throw new en({data:t,params:e,size:G(t)});const a=e[s],{consumed:o,value:i}=_e({data:t,param:a,position:r});n.push(i),r+=o}return n}function _e({data:t,param:e,position:n}){const r=wt(e.type);if(r){const[a,o]=r;return Ca(t,{length:a,param:{...e,type:o},position:n})}if(e.type==="tuple")return Da(t,{param:e,position:n});if(e.type==="string")return _a(t,{position:n});if(e.type.startsWith("bytes"))return Oa(t,{param:e,position:n});const s=K(t,n,n+32,{strict:!0});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Ma(s,{param:e});if(e.type==="address")return Aa(s);if(e.type==="bool")return Ia(s);throw new cs(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function Aa(t){return{consumed:32,value:ln(K(t,-20))}}function Ca(t,{param:e,length:n,position:r}){if(!n){const o=Q(K(t,r,r+32,{strict:!0})),i=Q(K(t,o,o+32,{strict:!0}));let c=0;const l=[];for(let u=0;u<i;++u){const f=_e({data:K(t,o+32),param:e,position:c});c+=f.consumed,l.push(f.value)}return{value:l,consumed:32}}if(ut(e)){const o=wt(e.type),i=!(o!=null&&o[0]);let c=0;const l=[];for(let u=0;u<n;++u){const f=Q(K(t,r,r+32,{strict:!0})),d=_e({data:K(t,f),param:e,position:i?c:u*32});c+=d.consumed,l.push(d.value)}return{value:l,consumed:32}}let s=0;const a=[];for(let o=0;o<n;++o){const i=_e({data:t,param:e,position:r+s});s+=i.consumed,a.push(i.value)}return{value:a,consumed:s}}function Ia(t){return{consumed:32,value:ys(t)}}function Oa(t,{param:e,position:n}){const[r,s]=e.type.split("bytes");if(!s){const o=Q(K(t,n,n+32,{strict:!0})),i=Q(K(t,o,o+32,{strict:!0}));return i===0?{consumed:32,value:"0x"}:{consumed:32,value:K(t,o+32,o+32+i,{strict:!0})}}return{consumed:32,value:K(t,n,n+parseInt(s),{strict:!0})}}function Ma(t,{param:e}){const n=e.type.startsWith("int");return{consumed:32,value:parseInt(e.type.split("int")[1]||"256")>48?tn(t,{signed:n}):Q(t,{signed:n})}}function _a(t,{position:e}){const n=Q(K(t,e,e+32,{strict:!0})),r=Q(K(t,n,n+32,{strict:!0}));return r===0?{consumed:32,value:""}:{consumed:32,value:gs(Me(K(t,n+32,n+32+r,{strict:!0})))}}function Da(t,{param:e,position:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let a=0;if(ut(e)){const o=Q(K(t,n,n+32,{strict:!0}));for(let i=0;i<e.components.length;++i){const c=e.components[i],l=_e({data:K(t,o),param:c,position:a});a+=l.consumed,s[r?i:c==null?void 0:c.name]=l.value}return{consumed:32,value:s}}for(let o=0;o<e.components.length;++o){const i=e.components[o],c=_e({data:t,param:i,position:n+a});a+=c.consumed,s[r?o:i==null?void 0:i.name]=c.value}return{consumed:a,value:s}}function ut(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(ut);const n=wt(t.type);return!!(n&&ut({...t,type:n[1]}))}function Fa({abi:t,data:e}){const n=K(e,0,4);if(n==="0x")throw new yt;const s=[...t||[],Ea,Sa].find(a=>a.type==="error"&&n===ir(Ae(a)));if(!s)throw new ns(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?xt(s.inputs,K(e,4)):void 0,errorName:s.name}}const X=(t,e,n)=>JSON.stringify(t,(r,s)=>{const a=typeof s=="bigint"?s.toString():s;return typeof e=="function"?e(r,a):a},n);function ur({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof e[a]=="object"?X(e[a]):e[a]}`).join(", ")})`}const lr={gwei:9,wei:18},ja={ether:-9,wei:9};function Se(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,a]=[n.slice(0,n.length-e),n.slice(n.length-e)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function Y(t,e="wei"){return Se(t,lr[e])}function re(t,e="wei"){return Se(t,ja[e])}function $t(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Na extends b{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Ba extends b{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d}){const p=$t({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:f,value:typeof d<"u"&&`${Y(d)} ${(s==null?void 0:s.nativeCurrency.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${re(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${re(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${re(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class dr extends b{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a}){let o="Transaction";r&&a!==void 0&&(o=`Transaction at block time "${r}" at index "${a}"`),e&&a!==void 0&&(o=`Transaction at block hash "${e}" at index "${a}"`),n&&a!==void 0&&(o=`Transaction at block number "${n}" at index "${a}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class fr extends b{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class La extends b{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class hr extends b{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d}){const p=n?se(n):void 0,h=$t({from:p==null?void 0:p.address,to:f,value:typeof d<"u"&&`${Y(d)} ${(s==null?void 0:s.nativeCurrency.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${re(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${re(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${re(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class dn extends b{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:i}){const c=et({abi:n,args:r,name:o}),l=c?ur({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Ae(c,{includeName:!0}):void 0,f=$t({address:s&&Jr(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:i});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",f].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=i}}class Ra extends b{constructor({abi:e,data:n,functionName:r,message:s}){let a,o,i;if(n&&n!=="0x"){a=Fa({abi:e,data:n});const{abiItem:c,errorName:l,args:u}=a;if(l==="Error")i=u[0];else if(l==="Panic"){const[f]=u;i=cr[f]}else{const f=c?Ae(c,{includeName:!0}):void 0,d=c&&u?ur({abiItem:c,args:u,includeFunctionName:!1,includeName:!1}):void 0;o=[f?`Error: ${f}`:"",d&&d!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${d}`:""]}}else s&&(i=s);super(i&&i!=="execution reverted"?[`The contract function "${r}" reverted with the following reason:`,i].join(`
`):`The contract function "${r}" reverted.`,{metaMessages:o}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.reason=i,this.data=a}}class qa extends b{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class fn extends b{constructor({data:e,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}const Ha=3;function Je(t,{abi:e,address:n,args:r,docsPath:s,functionName:a,sender:o}){const{code:i,data:c,message:l,shortMessage:u}=t instanceof fn?t:t instanceof b?t.walk(d=>"data"in d):{};let f=t;return t instanceof yt?f=new qa({functionName:a}):i===Ha&&(c||l||u)&&(f=new Ra({abi:e,data:typeof c=="object"?c.data:c,functionName:a,message:u??l})),new dn(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}class tt extends b{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class za extends b{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d}){const p=$t({from:n==null?void 0:n.address,to:f,value:typeof d<"u"&&`${Y(d)} ${(s==null?void 0:s.nativeCurrency.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${re(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${re(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${re(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}class De extends b{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(De,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(De,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class lt extends b{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${re(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(lt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Nt extends b{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${re(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(Nt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Bt extends b{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(Bt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Lt extends b{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(Lt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported/});class Rt extends b{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(Rt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class qt extends b{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(qt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Ht extends b{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(Ht,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class zt extends b{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(zt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Ut extends b{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Ut,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class dt extends b{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${re(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${re(r)} gwei`:""}).`].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(dt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Ua extends b{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.message}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class We extends b{constructor({body:e,details:n,headers:r,status:s,url:a}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${mt(a)}`,e&&`Request body: ${X(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=s,this.url=a}}class Wa extends b{constructor({body:e,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${mt(r)}`,`Request body: ${X(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class hn extends b{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${mt(r)}`,`Request body: ${X(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class Wt extends b{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${mt(n)}`,`Request body: ${X(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Ka=-1;class ne extends b{constructor(e,{code:n,docsPath:r,metaMessages:s,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof hn?e.code:n??Ka}}class je extends ne{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Ga extends ne{constructor(e){super(e,{code:-32700,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}class Va extends ne{constructor(e){super(e,{code:-32600,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}class Ya extends ne{constructor(e){super(e,{code:-32601,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}class Ja extends ne{constructor(e){super(e,{code:-32602,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}class Za extends ne{constructor(e){super(e,{code:-32603,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}class pr extends ne{constructor(e){super(e,{code:-32e3,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}class Qa extends ne{constructor(e){super(e,{code:-32001,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}class Xa extends ne{constructor(e){super(e,{code:-32002,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}class mr extends ne{constructor(e){super(e,{code:-32003,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}class On extends ne{constructor(e){super(e,{code:-32004,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}class eo extends ne{constructor(e){super(e,{code:-32005,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}class to extends ne{constructor(e){super(e,{code:-32006,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}class no extends je{constructor(e){super(e,{code:4001,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}class ro extends je{constructor(e){super(e,{code:4100,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}class so extends je{constructor(e){super(e,{code:4200,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}class ao extends je{constructor(e){super(e,{code:4900,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}class oo extends je{constructor(e){super(e,{code:4901,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}class io extends je{constructor(e){super(e,{code:4902,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}class co extends ne{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function pn(t){return t instanceof mr||t instanceof pr||t instanceof hn&&t.code===De.code}function mn(t,e){var r;const n=t.details.toLowerCase();return lt.nodeMessage.test(n)?new lt({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Nt.nodeMessage.test(n)?new Nt({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Bt.nodeMessage.test(n)?new Bt({cause:t,nonce:e==null?void 0:e.nonce}):Lt.nodeMessage.test(n)?new Lt({cause:t,nonce:e==null?void 0:e.nonce}):Rt.nodeMessage.test(n)?new Rt({cause:t,nonce:e==null?void 0:e.nonce}):qt.nodeMessage.test(n)?new qt({cause:t}):Ht.nodeMessage.test(n)?new Ht({cause:t,gas:e==null?void 0:e.gas}):zt.nodeMessage.test(n)?new zt({cause:t,gas:e==null?void 0:e.gas}):Ut.nodeMessage.test(n)?new Ut({cause:t}):dt.nodeMessage.test(n)?new dt({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):n.match(De.nodeMessage)||"code"in t.cause&&((r=t.cause)==null?void 0:r.code)===De.code?new De({cause:t,message:t.cause.details||t.details}):new Ua({cause:t.cause.cause})}function uo(t,{docsPath:e,...n}){let r=t;return pn(t)&&(r=mn(t,n)),new za(r,{docsPath:e,...n})}function yn(t,{formatter:e}){return e?Object.keys(e({})).reduce((r,s)=>(t!=null&&t.hasOwnProperty(s)&&(r[s]=t[s]),r),{}):{}}function Ne(t,{formatter:e}){return e(t)}function gn(t){return{...t,gas:typeof t.gas<"u"?q(t.gas):void 0,gasPrice:typeof t.gasPrice<"u"?q(t.gasPrice):void 0,maxFeePerGas:typeof t.maxFeePerGas<"u"?q(t.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof t.maxPriorityFeePerGas<"u"?q(t.maxPriorityFeePerGas):void 0,nonce:typeof t.nonce<"u"?q(t.nonce):void 0,value:typeof t.value<"u"?q(t.value):void 0}}function Pt(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=t,o=e?se(e):void 0;if(o&&!ue(o.address))throw new Ye({address:o.address});if(a&&!ue(a))throw new Ye({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Na;if(r&&r>2n**256n-1n)throw new lt({maxFeePerGas:r});if(s&&r&&s>r)throw new dt({maxFeePerGas:r,maxPriorityFeePerGas:s})}class lo extends b{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const yr={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function gr(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Q(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Q(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?yr[t.type]:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip2930"&&(delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e}function fo(t){var n;const e=(n=t.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:gr(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,difficulty:t.difficulty?BigInt(t.difficulty):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Ze(t,{blockHash:e,blockNumber:n,blockTag:r="latest",includeTransactions:s=!1}={}){var i,c;const a=n!==void 0?q(n):void 0;let o=null;if(e?o=await t.request({method:"eth_getBlockByHash",params:[e,s]}):o=await t.request({method:"eth_getBlockByNumber",params:[a||r,s]}),!o)throw new lo({blockHash:e,blockNumber:n});return Ne(o,{formatter:((c=(i=t.chain)==null?void 0:i.formatters)==null?void 0:c.block)||fo})}async function br(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function wr(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,r?q(r):n]});return Q(s)}const Ct=1500000000n;async function vr(t,e){const{account:n,gas:r,gasPrice:s,maxFeePerGas:a,maxPriorityFeePerGas:o,nonce:i}=e;if(!n)throw new tt;const c=se(n),l=await Ze(t,{blockTag:"latest"}),u={...e,from:c.address};if(typeof i>"u"&&(u.nonce=await wr(t,{address:c.address,blockTag:"pending"})),l.baseFeePerGas){if(typeof s<"u")throw new b("Chain does not support legacy `gasPrice`.");if(typeof a>"u")u.maxPriorityFeePerGas=o??Ct,u.maxFeePerGas=l.baseFeePerGas*120n/100n+u.maxPriorityFeePerGas;else{if(typeof o>"u"&&a<Ct)throw new b("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");u.maxFeePerGas=a,u.maxPriorityFeePerGas=o??Ct}}else{if(typeof a<"u"||typeof o<"u")throw new b("Chain does not support EIP-1559 fees.");typeof s>"u"&&(u.gasPrice=await br(t)*120n/100n)}return typeof r>"u"&&(u.gas=await bn(t,{...u,account:{address:c.address,type:"json-rpc"}})),Pt(u),u}async function bn(t,e){var s,a;const n=e.account??t.account;if(!n)throw new tt({docsPath:"/docs/actions/public/estimateGas"});const r=se(n);try{const{accessList:o,blockNumber:i,blockTag:c,data:l,gas:u,gasPrice:f,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,to:y,value:m,...g}=r.type==="local"?await vr(t,e):e,O=(i?q(i):void 0)||c;Pt(e);const I=(a=(s=t.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest,v=Ne({from:r.address,accessList:o,data:l,gas:u,gasPrice:f,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,to:y,value:m,...yn(g,{formatter:I})},{formatter:I||gn}),$=await t.request({method:"eth_estimateGas",params:O?[v,O]:[v]});return BigInt($)}catch(o){throw uo(o,{...e,account:r,chain:t.chain})}}async function ho(t,{abi:e,address:n,args:r,functionName:s,...a}){const o=Pe({abi:e,args:r,functionName:s});try{return await bn(t,{data:o,to:n,...a})}catch(i){const c=a.account?se(a.account):void 0;throw Je(i,{abi:e,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:s,sender:c==null?void 0:c.address})}}const It="/docs/contract/decodeFunctionResult";function Be({abi:t,args:e,functionName:n,data:r}){let s=t[0];if(n&&(s=et({abi:t,args:e,name:n}),!s))throw new ct(n,{docsPath:It});if(s.type!=="function")throw new ct(void 0,{docsPath:It});if(!s.outputs)throw new as(s.name,{docsPath:It});const a=xt(s.outputs,r);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const Kt=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],xr=[{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Mn=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],_n=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]}],po=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],mo="0x82ad56cb";class Gt extends b{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class yo extends b{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class go extends b{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class $r extends b{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function bo({chain:t,currentChainId:e}){if(!t)throw new go;if(e!==t.id)throw new yo({chain:t,currentChainId:e})}function Le({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new Gt({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new Gt({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function wo(t,{docsPath:e,...n}){let r=t;return pn(t)&&(r=mn(t,n)),new hr(r,{docsPath:e,...n})}const Ot=new Map;function Pr({fn:t,id:e,shouldSplitBatch:n,wait:r=0}){const s=async()=>{const l=i();a();const u=l.map(({args:f})=>f);u.length!==0&&t(u).then(f=>{l.forEach(({pendingPromise:d},p)=>{var h;return(h=d.resolve)==null?void 0:h.call(d,[f[p],f])})}).catch(f=>{l.forEach(({pendingPromise:d})=>{var p;return(p=d.reject)==null?void 0:p.call(d,f)})})},a=()=>Ot.delete(e),o=()=>i().map(({args:l})=>l),i=()=>Ot.get(e)||[],c=l=>Ot.set(e,[...i(),l]);return{flush:a,async schedule(l){const u={},f=new Promise((h,y)=>{u.resolve=h,u.reject=y});return(n==null?void 0:n([...o(),l]))&&s(),i().length>0?(c({args:l,pendingPromise:u}),f):(c({args:l,pendingPromise:u}),setTimeout(s,r),f)}}}async function Et(t,e){var g,k,O;const{account:n,batch:r=!!((g=t.batch)!=null&&g.multicall),blockNumber:s,blockTag:a="latest",accessList:o,data:i,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:f,nonce:d,to:p,value:h,...y}=e,m=n?se(n):void 0;try{Pt(e);const v=(s?q(s):void 0)||a,$=(O=(k=t.chain)==null?void 0:k.formatters)==null?void 0:O.transactionRequest,w=Ne({from:m==null?void 0:m.address,accessList:o,data:i,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:f,nonce:d,to:p,value:h,...yn(y,{formatter:$})},{formatter:$||gn});if(r&&vo({request:w}))try{return await xo(t,{...w,blockNumber:s,blockTag:a})}catch(A){if(!(A instanceof $r)&&!(A instanceof Gt))throw A}const N=await t.request({method:"eth_call",params:v?[w,v]:[w]});return N==="0x"?{data:void 0}:{data:N}}catch(I){const v=$o(I),{offchainLookup:$,offchainLookupSignature:w}=await Hn(()=>import("./ccip-c631e4ba.js"),[]);if((v==null?void 0:v.slice(0,10))===w&&p)return{data:await $(t,{data:v,to:p})};throw wo(I,{...e,account:m,chain:t.chain})}}function vo({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(mo)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function xo(t,e){var y;const{batchSize:n=1024,wait:r=0}=typeof((y=t.batch)==null?void 0:y.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:o,multicallAddress:i,to:c}=e;let l=i;if(!l){if(!t.chain)throw new $r;l=Le({blockNumber:s,chain:t.chain,contract:"multicall3"})}const f=(s?q(s):void 0)||a,{schedule:d}=Pr({id:`${t.uid}.${f}`,wait:r,shouldSplitBatch(m){return m.reduce((k,{data:O})=>k+(O.length-2),0)>n*2},fn:async m=>{const g=m.map(I=>({allowFailure:!0,callData:I.data,target:I.to})),k=Pe({abi:Kt,args:[g],functionName:"aggregate3"}),O=await t.request({method:"eth_call",params:[{data:k,to:l},f]});return Be({abi:Kt,args:[g],functionName:"aggregate3",data:O||"0x"})}}),[{returnData:p,success:h}]=await d({data:o,to:c});if(!h)throw new fn({data:p});return p==="0x"?{data:void 0}:{data:p}}function $o(t){if(!(t instanceof b))return;const e=t.walk();return typeof e.data=="object"?e.data.data:e.data}async function ve(t,{abi:e,address:n,args:r,functionName:s,...a}){const o=Pe({abi:e,args:r,functionName:s});try{const{data:i}=await Et(t,{data:o,to:n,...a});return Be({abi:e,args:r,functionName:s,data:i||"0x"})}catch(i){throw Je(i,{abi:e,address:n,args:r,docsPath:"/docs/contract/readContract",functionName:s})}}async function Po(t,{abi:e,address:n,args:r,dataSuffix:s,functionName:a,...o}){const i=o.account?se(o.account):void 0,c=Pe({abi:e,args:r,functionName:a});try{const{data:l}=await Et(t,{batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:n,...o});return{result:Be({abi:e,args:r,functionName:a,data:l||"0x"}),request:{abi:e,address:n,args:r,functionName:a,...o}}}catch(l){throw Je(l,{abi:e,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:a,sender:i==null?void 0:i.address})}}const Mt=new Map,Dn=new Map;let Eo=0;function Re(t,e,n){const r=++Eo,s=()=>Mt.get(t)||[],a=()=>{const u=s();Mt.set(t,u.filter(f=>f.id!==r))},o=()=>{const u=Dn.get(t);s().length===1&&u&&u(),a()},i=s();if(Mt.set(t,[...i,{id:r,fns:e}]),i&&i.length>0)return o;const c={};for(const u in e)c[u]=(...f)=>{const d=s();d.length!==0&&d.forEach(p=>{var h,y;return(y=(h=p.fns)[u])==null?void 0:y.call(h,...f)})};const l=n(c);return typeof l=="function"&&Dn.set(t,l),o}async function Vt(t){return new Promise(e=>setTimeout(e,t))}function nt(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;e&&(i=await t({unpoll:a}));const c=await(n==null?void 0:n(i))??r;await Vt(c);const l=async()=>{s&&(await t({unpoll:a}),await Vt(r),l())};l()})(),a}const So=new Map,ko=new Map;function To(t){const e=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=e(t,So),r=e(t,ko);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Ao(t,{cacheKey:e,maxAge:n=1/0}){const r=To(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=t(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Co=t=>`blockNumber.${t}`;async function rt(t,{maxAge:e=t.pollingInterval}={}){const n=await Ao(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Co(t.uid),maxAge:e});return BigInt(n)}const Fn="/docs/contract/decodeEventLog";function wn({abi:t,data:e,strict:n,topics:r}){const s=n??!0,[a,...o]=r;if(!a)throw new rs({docsPath:Fn});const i=t.find(h=>h.type==="event"&&a===rr(Ae(h)));if(!(i&&"name"in i)||i.type!=="event")throw new ss(a,{docsPath:Fn});const{name:c,inputs:l}=i,u=l==null?void 0:l.some(h=>!("name"in h&&h.name));let f=u?[]:{};const d=l.filter(h=>"indexed"in h&&h.indexed);if(o.length>0)for(let h=0;h<d.length;h++){const y=d[h],m=o[h];if(!m)throw new gt({abiItem:i,param:y});f[y.name||h]=Io({param:y,value:m})}const p=l.filter(h=>!("indexed"in h&&h.indexed));if(p.length>0){if(e&&e!=="0x")try{const h=xt(p,e);if(h)if(u)f=[...f,...h];else for(let y=0;y<p.length;y++)f[p[y].name]=h[y]}catch(h){if(s)throw h instanceof en?new Ke({abiItem:i,data:h.data,params:h.params,size:h.size}):h}else if(s)throw new Ke({abiItem:i,data:"0x",params:p,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function Io({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(xt([t],e)||[])[0]}function Te(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function St(t,{filter:e}){const n="strict"in e&&e.strict;return(await e.request({method:"eth_getFilterChanges",params:[e.id]})).map(s=>{var a;if(typeof s=="string")return s;try{const{eventName:o,args:i}="abi"in e&&e.abi?wn({abi:e.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return Te(s,{args:i,eventName:o})}catch(o){let i,c;if(o instanceof Ke||o instanceof gt){if("strict"in e&&e.strict)return;i=o.abiItem.name,c=(a=o.abiItem.inputs)==null?void 0:a.some(l=>!("name"in l&&l.name))}return Te(s,{args:c?[]:{},eventName:i})}}).filter(Boolean)}async function vn(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:a,args:o,strict:i}={}){const c=i??!1;let l=[];a&&(l=un({abi:[a],eventName:a.name,args:o}));let u;return n?u=await t.request({method:"eth_getLogs",params:[{address:e,topics:l,blockHash:n}]}):u=await t.request({method:"eth_getLogs",params:[{address:e,topics:l,fromBlock:typeof r=="bigint"?q(r):r,toBlock:typeof s=="bigint"?q(s):s}]}),u.map(f=>{var d;try{const{eventName:p,args:h}=a?wn({abi:[a],data:f.data,topics:f.topics,strict:c}):{eventName:void 0,args:void 0};return Te(f,{args:h,eventName:p})}catch(p){let h,y;if(p instanceof Ke||p instanceof gt){if(c)return;h=p.abiItem.name,y=(d=p.abiItem.inputs)==null?void 0:d.some(m=>!("name"in m&&m.name))}return Te(f,{args:y?[]:{},eventName:h})}}).filter(Boolean)}async function kt(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Oo(t,{abi:e,address:n,args:r,batch:s=!0,eventName:a,onError:o,onLogs:i,pollingInterval:c=t.pollingInterval,strict:l}){const u=X(["watchContractEvent",n,r,s,t.uid,a,c]),f=l??!1;return Re(u,{onLogs:i,onError:o},d=>{let p,h,y=!1;const m=nt(async()=>{var g;if(!y){try{h=await or(t,{abi:e,address:n,args:r,eventName:a,strict:f})}catch{}y=!0;return}try{let k;if(h)k=await St(t,{filter:h});else{const O=await rt(t);p&&p!==O?k=await vn(t,{address:n,args:r,fromBlock:p+1n,toBlock:O,event:et({abi:e,name:a})}):k=[],p=O}if(k.length===0)return;s?d.onLogs(k):k.forEach(O=>d.onLogs([O]))}catch(k){(g=d.onError)==null||g.call(d,k)}},{emitOnBegin:!0,interval:c});return async()=>{h&&await kt(t,{filter:h}),m()}})}function Mo(t,{docsPath:e,...n}){let r=t;return pn(t)&&(r=mn(t,n)),new Ba(r,{docsPath:e,...n})}async function ft(t){const e=await t.request({method:"eth_chainId"});return Q(e)}async function xn(t,e){var y;const{account:n=t.account,chain:r=t.chain,accessList:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d,...p}=e;if(!n)throw new tt({docsPath:"/docs/actions/wallet/sendTransaction"});const h=se(n);try{Pt(e);let m;if(r!==null&&(m=await ft(t),bo({currentChainId:m,chain:r})),h.type==="local"){const O=await vr(t,{account:h,accessList:s,chain:r,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d,...p});m||(m=await ft(t));const I=await h.signTransaction({...O,chainId:m});return await t.request({method:"eth_sendRawTransaction",params:[I]})}const g=(y=r==null?void 0:r.formatters)==null?void 0:y.transactionRequest,k=Ne({accessList:s,data:a,from:h.address,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d,...yn(p,{formatter:g})},{formatter:g||gn});return await t.request({method:"eth_sendTransaction",params:[k]})}catch(m){throw Mo(m,{...e,account:h,chain:e.chain||void 0})}}async function _o(t,{abi:e,address:n,args:r,dataSuffix:s,functionName:a,...o}){const i=Pe({abi:e,args:r,functionName:a});return await xn(t,{data:`${i}${s?s.replace("0x",""):""}`,to:n,...o})}const Yt=256;let ot=Yt,it;function Do(t=11){if(!it||ot+t>Yt*2){it="",ot=0;for(let e=0;e<Yt;e++)it+=(256+Math.random()*256|0).toString(16).substring(1)}return it.substring(ot,ot+++t)}function Er({chain:t,key:e="base",name:n="Base Client",pollingInterval:r=4e3,transport:s,type:a="base"}){const{config:o,request:i,value:c}=s({chain:t,pollingInterval:r});return{chain:t,key:e,name:n,pollingInterval:r,request:i,transport:{...o,...c},type:a,uid:Do()}}function Sr(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:i=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:i,error:l}):e;u&&await Vt(u),o({count:i+1})};try{const l=await t();s(l)}catch(l){if(i<n&&await r({count:i,error:l}))return c({error:l});a(l)}};o()})}const Fo=t=>"code"in t?t.code!==-1&&t.code!==-32004&&t.code!==-32005&&t.code!==-32042&&t.code!==-32603:t instanceof We&&t.status?t.status!==403&&t.status!==408&&t.status!==413&&t.status!==429&&t.status!==500&&t.status!==502&&t.status!==503&&t.status!==504:!1;function jo(t,{retryDelay:e=150,retryCount:n=3}={}){return async r=>Sr(async()=>{try{return await t(r)}catch(s){const a=s;throw a.code===-32700?new Ga(a):a.code===-32600?new Va(a):a.code===-32601?new Ya(a):a.code===-32602?new Ja(a):a.code===-32603?new Za(a):a.code===-32e3?new pr(a):a.code===-32001?new Qa(a):a.code===-32002?new Xa(a):a.code===-32003?new mr(a):a.code===-32004?new On(a):a.code===-32005?new eo(a):a.code===-32006?new to(a):a.code===-32042?new On(a):a.code===4001?new no(a):a.code===4100?new ro(a):a.code===4200?new so(a):a.code===4900?new ao(a):a.code===4901?new oo(a):a.code===4902?new io(a):s instanceof b?s:new co(a)}},{delay:({count:s,error:a})=>{var o;if(a&&a instanceof We){const i=(o=a==null?void 0:a.headers)==null?void 0:o.get("Retry-After");if(i!=null&&i.match(/\d/))return parseInt(i)*1e3}return~~(1<<s)*e},retryCount:n,shouldRetry:({error:s})=>!Fo(s)})}function kr({key:t,name:e,request:n,retryCount:r=3,retryDelay:s=150,timeout:a,type:o},i){return{config:{key:t,name:e,request:n,retryCount:r,retryDelay:s,timeout:a,type:o},request:jo(n,{retryCount:r,retryDelay:s}),value:i}}function No(t,e={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=e;return({retryCount:a})=>kr({key:n,name:r,request:t.request.bind(t),retryCount:e.retryCount??a,retryDelay:s,type:"custom"})}class Bo extends b{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function Tr(t,{errorInstance:e,timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let o;try{const i=new AbortController;n>0&&(o=setTimeout(()=>{r?i.abort():a(e)},n)),s(await t({signal:i==null?void 0:i.signal}))}catch(i){i.name==="AbortError"&&a(e),a(i)}finally{clearTimeout(o)}})()})}let Jt=0;async function Lo(t,{body:e,fetchOptions:n={},timeout:r=1e4}){var i;const{headers:s,method:a,signal:o}=n;try{const c=await Tr(async({signal:u})=>await fetch(t,{...n,body:Array.isArray(e)?X(e.map(d=>({jsonrpc:"2.0",id:Jt++,...d}))):X({jsonrpc:"2.0",id:Jt++,...e}),headers:{...s,"Content-Type":"application/json"},method:a||"POST",signal:o||(r>0?u:void 0)}),{errorInstance:new Wt({body:e,url:t}),timeout:r,signal:!0});let l;if((i=c.headers.get("Content-Type"))!=null&&i.startsWith("application/json")?l=await c.json():l=await c.text(),!c.ok)throw new We({body:e,details:X(l.error)||c.statusText,headers:c.headers,status:c.status,url:t});return l}catch(c){throw c instanceof We||c instanceof Wt?c:new We({body:e,details:c.message,url:t})}}function Ro(t,{body:e,onResponse:n}){if(t.readyState===t.CLOSED||t.readyState===t.CLOSING)throw new Wa({body:e,url:t.url,details:"Socket is closed."});const r=Jt++,s=({data:a})=>{var i;const o=JSON.parse(a);typeof o.id=="number"&&r!==o.id||(n==null||n(o),e.method==="eth_subscribe"&&typeof o.result=="string"&&t.subscriptions.set(o.result,s),e.method==="eth_unsubscribe"&&t.subscriptions.delete((i=e.params)==null?void 0:i[0]))};return t.requests.set(r,s),t.send(JSON.stringify({jsonrpc:"2.0",...e,id:r})),t}async function qo(t,{body:e,timeout:n=1e4}){return Tr(()=>new Promise(r=>Zt.webSocket(t,{body:e,onResponse:r})),{errorInstance:new Wt({body:e,url:t.url}),timeout:n})}const Zt={http:Lo,webSocket:Ro,webSocketAsync:qo};function Ho(t,e={}){const{batch:n,fetchOptions:r,key:s="http",name:a="HTTP JSON-RPC",retryDelay:o}=e;return({chain:i,retryCount:c,timeout:l})=>{const{batchSize:u=1e3,wait:f=0}=typeof n=="object"?n:{},d=e.retryCount??c,p=l??e.timeout??1e4,h=t||(i==null?void 0:i.rpcUrls.default.http[0]);if(!h)throw new Bo;return kr({key:s,name:a,async request({method:y,params:m}){const g={method:y,params:m},{schedule:k}=Pr({id:`${t}`,wait:f,shouldSplitBatch($){return $.length>u},fn:$=>Zt.http(h,{body:$,fetchOptions:r,timeout:p})}),O=async $=>n?k($):[await Zt.http(h,{body:$,fetchOptions:r,timeout:p})],[{error:I,result:v}]=await O(g);if(I)throw new hn({body:g,error:I,url:h});return v},retryCount:d,retryDelay:o,timeout:p,type:"http"},{url:t})}}const zo=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Uo=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ar({domain:t,message:e,primaryType:n,types:r}){const s=r,a=(o,i)=>{for(const c of o){const{name:l,type:u}=c,f=u,d=i[l],p=f.match(Uo);if(p&&(typeof d=="number"||typeof d=="bigint")){const[m,g,k]=p;q(d,{signed:g==="int",size:parseInt(k)/8})}if(f==="address"&&typeof d=="string"&&!ue(d))throw new Ye({address:d});const h=f.match(zo);if(h){const[m,g]=h;if(g&&G(d)!==parseInt(g))throw new os({expectedSize:parseInt(g),givenSize:G(d)})}const y=s[f];y&&a(y,d)}};if(s.EIP712Domain&&t&&a(s.EIP712Domain,t),n!=="EIP712Domain"){const o=s[n];a(o,e)}}const _t="/docs/contract/encodeDeployData";function Cr({abi:t,args:e,bytecode:n}){if(!e||e.length===0)return n;const r=t.find(a=>"type"in a&&a.type==="constructor");if(!r)throw new Qr({docsPath:_t});if(!("inputs"in r))throw new kn({docsPath:_t});if(!r.inputs||r.inputs.length===0)throw new kn({docsPath:_t});const s=Xe(r.inputs,e);return an([n,s])}const Wo={"0x0":"reverted","0x1":"success"};function Ko(t){return{...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(e=>Te(e)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Q(t.transactionIndex):null,status:t.status?Wo[t.status]:null,type:t.type?yr[t.type]:null}}function Go({domain:t,message:e,primaryType:n,types:r}){const s=typeof t>"u"?{}:t,a={EIP712Domain:[(s==null?void 0:s.name)&&{name:"name",type:"string"},(s==null?void 0:s.version)&&{name:"version",type:"string"},(s==null?void 0:s.chainId)&&{name:"chainId",type:"uint256"},(s==null?void 0:s.verifyingContract)&&{name:"verifyingContract",type:"address"},(s==null?void 0:s.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean),...r};Ar({domain:s,message:e,primaryType:n,types:a});const o=["0x1901"];return s&&o.push(Vo({domain:s,types:a})),n!=="EIP712Domain"&&o.push(Ir({data:e,primaryType:n,types:a})),te(he(o))}function Vo({domain:t,types:e}){return Ir({data:t,primaryType:"EIP712Domain",types:e})}function Ir({data:t,primaryType:e,types:n}){const r=Or({data:t,primaryType:e,types:n});return te(r)}function Or({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],s=[Yo({primaryType:e,types:n})];for(const a of n[e]){const[o,i]=_r({types:n,name:a.name,type:a.type,value:t[a.name]});r.push(o),s.push(i)}return Xe(r,s)}function Yo({primaryType:t,types:e}){const n=pe(Jo({primaryType:t,types:e}));return te(n)}function Jo({primaryType:t,types:e}){let n="";const r=Mr({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const a of s)n+=`${a}(${e[a].map(({name:o,type:i})=>`${i} ${o}`).join(",")})`;return n}function Mr({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const a of e[s])Mr({primaryType:a.type,types:e},n);return n}function _r({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},te(Or({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},te(r)];if(n==="string")return[{type:"bytes32"},te(pe(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(o=>_r({name:e,type:s,types:t,value:o}));return[{type:"bytes32"},te(Xe(a.map(([o])=>o),a.map(([,o])=>o)))]}return[{type:n},r]}function Zo(t,e){const n=(()=>typeof t=="string"?ce(t):t.raw instanceof Uint8Array?t.raw:ke(t.raw))(),r=ce(`Ethereum Signed Message:
${n.length}`);return te(he([r,n]),e)}function le(t,e){let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)n=`${Math.round(+`${n}.${r}`)}`,r="";else if(r.length>e){const[a,o,i]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${i}`);c>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}function ie(t,e="wei"){return le(t,lr[e])}function Dr(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return fe(e)?e:null}function Fr(t){let e=new Uint8Array(32).fill(0);if(!t)return Ge(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Dr(n[r]),a=s?ke(s):te(ce(n[r]),"bytes");e=te(he([e,a]),"bytes")}return Ge(e)}function Qo(t){return`[${t.slice(2)}]`}function Xo(t){const e=new Uint8Array(32).fill(0);return t?Dr(t)||te(ce(t)):Ge(e)}function Tt(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(ce(e).byteLength+2);let r=0;const s=e.split(".");for(let a=0;a<s.length;a++){let o=ce(s[a]);o.byteLength>255&&(o=ce(Qo(Xo(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function ei(t,{blockNumber:e,blockTag:n,name:r,universalResolverAddress:s}){var o;let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Le({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const i=await ve(t,{address:a,abi:xr,functionName:"resolve",args:[pe(Tt(r)),Pe({abi:_n,functionName:"addr",args:[Fr(r)]})],blockNumber:e,blockTag:n});if(i[0]==="0x")return null;const c=Be({abi:_n,functionName:"addr",data:i[0]});return Me(c)==="0x00"?null:c}catch(i){if(i instanceof dn){const c=(o=i.cause)==null?void 0:o.reason;if(c!=null&&c.includes("Wildcard on non-extended resolvers is not supported"))return null}throw i}}class ti extends b{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class Ue extends b{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class $n extends b{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class ni extends b{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const ri=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,si=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,ai=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,oi=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function ii(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function jn(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function jr({uri:t,gatewayUrls:e}){const n=ai.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=jn(e==null?void 0:e.ipfs,"https://ipfs.io"),s=jn(e==null?void 0:e.arweave,"https://arweave.net"),a=t.match(ri),{protocol:o,subpath:i,target:c,subtarget:l=""}=(a==null?void 0:a.groups)||{},u=o==="ipns:/"||i==="ipns/",f=o==="ipfs:/"||i==="ipfs/"||si.test(t);if(t.startsWith("http")&&!u&&!f){let p=t;return e!=null&&e.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||f)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let d=t.replace(oi,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new $n({uri:t})}function Nr(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new ti({data:t});return t.image||t.image_url||t.image_data}async function ci({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(s=>s.json());return await Pn({gatewayUrls:t,uri:Nr(n)})}catch{throw new $n({uri:e})}}async function Pn({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=jr({uri:e,gatewayUrls:t});if(r||await ii(n))return n;throw new $n({uri:e})}function ui(t){t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[e,n,r]=t.split("/"),[s,a]=e.split(":"),[o,i]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Ue({reason:"Only EIP-155 supported"});if(!a)throw new Ue({reason:"Chain ID not found"});if(!i)throw new Ue({reason:"Contract address not found"});if(!r)throw new Ue({reason:"Token ID not found"});if(!o)throw new Ue({reason:"ERC namespace not found"});return{chainID:parseInt(a),namespace:o.toLowerCase(),contractAddress:i,tokenID:r}}async function li(t,{nft:e}){if(e.namespace==="erc721")return ve(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return ve(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new ni({namespace:e.namespace})}async function di(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?fi(t,{gatewayUrls:e,record:n}):Pn({uri:n,gatewayUrls:e})}async function fi(t,{gatewayUrls:e,record:n}){const r=ui(n),s=await li(t,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=jr({uri:s,gatewayUrls:e});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const l=i?atob(a.replace("data:application/json;base64,","")):a,u=JSON.parse(l);return Pn({uri:Nr(u),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),ci({gatewayUrls:e,uri:a.replace(/(?:0x)?{id}/,c)})}async function Br(t,{blockNumber:e,blockTag:n,name:r,key:s,universalResolverAddress:a}){let o=a;if(!o){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=Le({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const i=await ve(t,{address:o,abi:xr,functionName:"resolve",args:[pe(Tt(r)),Pe({abi:Mn,functionName:"text",args:[Fr(r),s]})],blockNumber:e,blockTag:n});if(i[0]==="0x")return null;const c=Be({abi:Mn,functionName:"text",data:i[0]});return c===""?null:c}async function hi(t,{blockNumber:e,blockTag:n,gatewayUrls:r,name:s,universalResolverAddress:a}){const o=await Br(t,{blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:a});if(!o)return null;try{return await di(t,{record:o,gatewayUrls:r})}catch{return null}}async function pi(t,{address:e,blockNumber:n,blockTag:r,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Le({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const o=`${e.toLowerCase().substring(2)}.addr.reverse`;try{return(await ve(t,{address:a,abi:[{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],functionName:"reverse",args:[pe(Tt(o))],blockNumber:n,blockTag:r}))[0]}catch(i){if(i instanceof dn&&i.cause.reason===cr[50])return null;throw i}}async function mi(t,{blockNumber:e,blockTag:n,name:r,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Le({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const[o]=await ve(t,{address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[pe(Tt(r))],blockNumber:e,blockTag:n});return o}async function yi(t){const e=vt(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function Lr(t,{address:e,args:n,event:r,fromBlock:s,strict:a,toBlock:o}={}){const i=vt(t,{method:"eth_newFilter"});let c=[];r&&(c=un({abi:[r],eventName:r.name,args:n}));const l=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?q(s):s,toBlock:typeof o=="bigint"?q(o):o,...c.length?{topics:c}:{}}]});return{abi:r?[r]:void 0,args:n,eventName:r?r.name:void 0,id:l,request:i(l),strict:a,type:"event"}}async function Rr(t){const e=vt(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function gi(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n?q(n):void 0,a=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(a)}async function bi(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?q(n):void 0;let a;return e?a=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]}):a=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),Q(a)}async function wi(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?q(n):void 0,a=await t.request({method:"eth_getCode",params:[e,s||r]});if(a!=="0x")return a}function vi(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function xi(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=n?q(n):void 0,o=await t.request({method:"eth_feeHistory",params:[q(e),a||r,s]});return vi(o)}async function $i(t,{filter:e}){const n=e.strict??!1;return(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>{var a;try{const{eventName:o,args:i}="abi"in e&&e.abi?wn({abi:e.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return Te(s,{args:i,eventName:o})}catch(o){let i,c;if(o instanceof Ke||o instanceof gt){if("strict"in e&&e.strict)return;i=o.abiItem.name,c=(a=o.abiItem.inputs)==null?void 0:a.some(l=>!("name"in l&&l.name))}return Te(s,{args:c?[]:{},eventName:i})}}).filter(Boolean)}async function Pi(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?q(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,a||r]})}async function En(t,{blockHash:e,blockNumber:n,blockTag:r="latest",hash:s,index:a}){var c,l;const o=n!==void 0?q(n):void 0;let i=null;if(s?i=await t.request({method:"eth_getTransactionByHash",params:[s]}):e?i=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,q(a)]}):(o||r)&&(i=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||r,q(a)]})),!i)throw new dr({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a});return Ne(i,{formatter:((l=(c=t.chain)==null?void 0:c.formatters)==null?void 0:l.transaction)||gr})}async function Ei(t,{hash:e,transactionReceipt:n}){const[r,s]=await Promise.all([rt(t),e?En(t,{hash:e}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function Qt(t,{hash:e}){var r,s;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]});if(!n)throw new fr({hash:e});return Ne(n,{formatter:((s=(r=t.chain)==null?void 0:r.formatters)==null?void 0:s.transactionReceipt)||Ko})}async function Si(t,e){var y;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:a,contracts:o,multicallAddress:i}=e,c=r??(typeof((y=t.batch)==null?void 0:y.multicall)=="object"&&t.batch.multicall.batchSize||1024),l=o;let u=i;if(!u){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");u=Le({blockNumber:s,chain:t.chain,contract:"multicall3"})}const f=[[]];let d=0,p=0;for(let m=0;m<l.length;m++){const{abi:g,address:k,args:O,functionName:I}=l[m];try{const v=Pe({abi:g,args:O,functionName:I});p+=v.length,c>0&&p>c&&(d++,p=(v.length-2)/2,f[d]=[]),f[d]=[...f[d],{allowFailure:!0,callData:v,target:k}]}catch(v){const $=Je(v,{abi:g,address:k,args:O,docsPath:"/docs/contract/multicall",functionName:I});if(!n)throw $;f[d]=[...f[d],{allowFailure:!0,callData:"0x",target:k}]}}return(await Promise.all(f.map(m=>ve(t,{abi:Kt,address:u,args:[m],blockNumber:s,blockTag:a,functionName:"aggregate3"})))).flat().map(({returnData:m,success:g},k)=>{const O=f.flat(),{callData:I}=O[k],{abi:v,address:$,functionName:w,args:N}=l[k];try{if(I==="0x")throw new yt;if(!g)throw new fn({data:m});const A=Be({abi:v,data:m,functionName:w});return n?{result:A,status:"success"}:A}catch(A){const T=Je(A,{abi:v,address:$,args:N,docsPath:"/docs/contract/multicall",functionName:w});if(!n)throw T;return{error:T,result:void 0,status:"failure"}}})}const ki="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ti(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ai(t,e){const n=fe(t)?ke(t):t,r=fe(e)?ke(e):e;return Ti(n,r)}async function qr(t,{address:e,hash:n,signature:r,...s}){const a=fe(r)?r:pe(r);try{const{data:o}=await Et(t,{data:Cr({abi:po,args:[e,n,a],bytecode:ki}),...s});return Ai(o??"0x0","0x1")}catch(o){if(o instanceof hr)return!1;throw o}}async function Ci(t,{address:e,message:n,signature:r,...s}){const a=Zo(n);return qr(t,{address:e,hash:a,signature:r,...s})}async function Ii(t,{address:e,signature:n,message:r,primaryType:s,types:a,domain:o,...i}){const c=Go({message:r,primaryType:s,types:a,domain:o});return qr(t,{address:e,hash:c,signature:n,...i})}function Hr(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=t.pollingInterval}){const i=typeof a<"u"?a:t.transport.type!=="webSocket";let c;return i?(()=>{const f=X(["watchBlockNumber",t.uid,e,n,o]);return Re(f,{onBlockNumber:r,onError:s},d=>nt(async()=>{var p;try{const h=await rt(t,{maxAge:0});if(c){if(h===c)return;if(h-c>1&&n)for(let y=c+1n;y<h;y++)d.onBlockNumber(y,c),c=y}(!c||h>c)&&(d.onBlockNumber(h,c),c=h)}catch(h){(p=d.onError)==null||p.call(d,h)}},{emitOnBegin:e,interval:o}))})():(()=>{let f=!0,d=()=>f=!1;return(async()=>{try{const{unsubscribe:p}=await t.transport.subscribe({params:["newHeads"],onData(h){var m;if(!f)return;const y=tn((m=h.result)==null?void 0:m.number);r(y,c),c=y},onError(h){s==null||s(h)}});d=p,f||d()}catch(p){s==null||s(p)}})(),d})()}async function Oi(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,timeout:a}){const o=X(["waitForTransactionReceipt",t.uid,n]);let i,c,l,u=!1;return new Promise((f,d)=>{a&&setTimeout(()=>d(new La({hash:n})),a);const p=Re(o,{onReplaced:r,resolve:f,reject:d},h=>{const y=Hr(t,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(m){if(u)return;let g=m;const k=async O=>{y(),O(),p()};try{if(l){if(g-l.blockNumber+1n<e)return;k(()=>h.resolve(l));return}if(i||(u=!0,await Sr(async()=>{i=await En(t,{hash:n}),i.blockNumber&&(g=i.blockNumber)},{delay:({count:O})=>~~(1<<O)*200,retryCount:6}),u=!1),l=await Qt(t,{hash:n}),e>0&&g-l.blockNumber+1n<e)return;k(()=>h.resolve(l))}catch(O){if(i&&(O instanceof dr||O instanceof fr)){c=i;const v=(await Ze(t,{blockNumber:g,includeTransactions:!0})).transactions.find(({from:w,nonce:N})=>w===c.from&&N===c.nonce);if(!v||(l=await Qt(t,{hash:v.hash}),g-l.blockNumber+1n<e))return;let $="replaced";v.to===c.to&&v.value===c.value?$="repriced":v.from===v.to&&v.value===0n&&($="cancelled"),k(()=>{var w;(w=h.onReplaced)==null||w.call(h,{reason:$,replacedTransaction:c,transaction:v,transactionReceipt:l}),h.resolve(l)})}else k(()=>h.reject(O))}}});return y})})}function Mi(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o=!1,poll:i,pollingInterval:c=t.pollingInterval}){const l=typeof i<"u"?i:t.transport.type!=="webSocket";let u;return l?(()=>{const p=X(["watchBlocks",t.uid,n,r,o,c]);return Re(p,{onBlock:s,onError:a},h=>nt(async()=>{var y;try{const m=await Ze(t,{blockTag:e,includeTransactions:o});if(m.number&&(u!=null&&u.number)){if(m.number===u.number)return;if(m.number-u.number>1&&n)for(let g=(u==null?void 0:u.number)+1n;g<m.number;g++){const k=await Ze(t,{blockNumber:g,includeTransactions:o});h.onBlock(k,u),u=k}}(!(u!=null&&u.number)||e==="pending"&&!(m!=null&&m.number)||m.number&&m.number>u.number)&&(h.onBlock(m,u),u=m)}catch(m){(y=h.onError)==null||y.call(h,m)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,h=()=>p=!1;return(async()=>{try{const{unsubscribe:y}=await t.transport.subscribe({params:["newHeads"],onData(m){if(!p)return;const g=m.result;s(g,u),u=g},onError(m){a==null||a(m)}});h=y,p||h()}catch(y){a==null||a(y)}})(),h})()}function _i(t,{address:e,args:n,batch:r=!0,event:s,onError:a,onLogs:o,pollingInterval:i=t.pollingInterval,strict:c}){const l=X(["watchEvent",e,n,r,t.uid,s,i]),u=c??!1;return Re(l,{onLogs:o,onError:a},f=>{let d,p,h=!1;const y=nt(async()=>{var m;if(!h){try{p=await Lr(t,{address:e,args:n,event:s,strict:u})}catch{}h=!0;return}try{let g;if(p)g=await St(t,{filter:p});else{const k=await rt(t);d&&d!==k?g=await vn(t,{address:e,args:n,fromBlock:d+1n,toBlock:k,event:s}):g=[],d=k}if(g.length===0)return;r?f.onLogs(g):g.forEach(k=>f.onLogs([k]))}catch(g){(m=f.onError)==null||m.call(f,g)}},{emitOnBegin:!0,interval:i});return async()=>{p&&await kt(t,{filter:p}),y()}})}function Di(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const l=X(["watchPendingTransactions",t.uid,e,a]);return Re(l,{onTransactions:r,onError:n},u=>{let f;const d=nt(async()=>{var p;try{if(!f)try{f=await Rr(t);return}catch(y){throw d(),y}const h=await St(t,{filter:f});if(h.length===0)return;e?u.onTransactions(h):h.forEach(y=>u.onTransactions([y]))}catch(h){(p=u.onError)==null||p.call(u,h)}},{emitOnBegin:!0,interval:a});return async()=>{f&&await kt(t,{filter:f}),d()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:f}=await t.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!l)return;const p=d.result;r([p])},onError(d){n==null||n(d)}});u=f,l||u()}catch(f){n==null||n(f)}})(),u})()}const Fi=t=>({call:e=>Et(t,e),createBlockFilter:()=>yi(t),createContractEventFilter:e=>or(t,e),createEventFilter:e=>Lr(t,e),createPendingTransactionFilter:()=>Rr(t),estimateContractGas:e=>ho(t,e),estimateGas:e=>bn(t,e),getBalance:e=>gi(t,e),getBlock:e=>Ze(t,e),getBlockNumber:e=>rt(t,e),getBlockTransactionCount:e=>bi(t,e),getBytecode:e=>wi(t,e),getChainId:()=>ft(t),getEnsAddress:e=>ei(t,e),getEnsAvatar:e=>hi(t,e),getEnsName:e=>pi(t,e),getEnsResolver:e=>mi(t,e),getEnsText:e=>Br(t,e),getFeeHistory:e=>xi(t,e),getFilterChanges:e=>St(t,e),getFilterLogs:e=>$i(t,e),getGasPrice:()=>br(t),getLogs:e=>vn(t,e),getStorageAt:e=>Pi(t,e),getTransaction:e=>En(t,e),getTransactionConfirmations:e=>Ei(t,e),getTransactionCount:e=>wr(t,e),getTransactionReceipt:e=>Qt(t,e),multicall:e=>Si(t,e),readContract:e=>ve(t,e),simulateContract:e=>Po(t,e),verifyMessage:e=>Ci(t,e),verifyTypedData:e=>Ii(t,e),uninstallFilter:e=>kt(t,e),waitForTransactionReceipt:e=>Oi(t,e),watchBlocks:e=>Mi(t,e),watchBlockNumber:e=>Hr(t,e),watchContractEvent:e=>Oo(t,e),watchEvent:e=>_i(t,e),watchPendingTransactions:e=>Di(t,e)});function ji({batch:t,chain:e,key:n="public",name:r="Public Client",transport:s,pollingInterval:a}){const o={batch:t,...Er({chain:e,key:n,name:r,pollingInterval:a,transport:s,type:"publicClient"})};return{...o,...Fi(o)}}async function Ni(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:q(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:i})=>i):void 0}]})}function Bi(t,{abi:e,args:n,bytecode:r,...s}){const a=Cr({abi:e,args:n,bytecode:r});return xn(t,{...s,data:a})}async function Li(t){return(await t.request({method:"eth_accounts"})).map(n=>ln(n))}async function Ri(t){return await t.request({method:"wallet_getPermissions"})}async function qi(t){return(await t.request({method:"eth_requestAccounts"})).map(n=>ka(n))}async function Hi(t,e){return t.request({method:"wallet_requestPermissions",params:[e]})}async function zi(t,{account:e=t.account,message:n}){if(!e)throw new tt({docsPath:"/docs/actions/wallet/signMessage"});const r=se(e);if(r.type==="local")return r.signMessage({message:n});const s=(()=>typeof n=="string"?nn(n):n.raw instanceof Uint8Array?pe(n.raw):n.raw)();return t.request({method:"personal_sign",params:[s,r.address]})}async function Ui(t,{account:e=t.account,domain:n,message:r,primaryType:s,types:a}){if(!e)throw new tt({docsPath:"/docs/actions/wallet/signTypedData"});const o=se(e),i={EIP712Domain:[(n==null?void 0:n.name)&&{name:"name",type:"string"},(n==null?void 0:n.version)&&{name:"version",type:"string"},(n==null?void 0:n.chainId)&&{name:"chainId",type:"uint256"},(n==null?void 0:n.verifyingContract)&&{name:"verifyingContract",type:"address"},(n==null?void 0:n.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean),...a};if(Ar({domain:n,message:r,primaryType:s,types:i}),o.type==="local")return o.signTypedData({domain:n,primaryType:s,types:i,message:r});const c=X({domain:n??{},primaryType:s,types:i,message:r},(l,u)=>fe(u)?u.toLowerCase():u);return t.request({method:"eth_signTypedData_v4",params:[o.address,c]})}async function Wi(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:q(e)}]})}async function Ki(t,e){return await t.request({method:"wallet_watchAsset",params:e})}const Gi=t=>({addChain:e=>Ni(t,e),deployContract:e=>Bi(t,e),getAddresses:()=>Li(t),getChainId:()=>ft(t),getPermissions:()=>Ri(t),requestAddresses:()=>qi(t),requestPermissions:e=>Hi(t,e),sendTransaction:e=>xn(t,e),signMessage:e=>zi(t,e),signTypedData:e=>Ui(t,e),switchChain:e=>Wi(t,e),watchAsset:e=>Ki(t,e),writeContract:e=>_o(t,e)});function Vi({account:t,chain:e,transport:n,key:r="wallet",name:s="Wallet Client",pollingInterval:a}){const o={...Er({chain:e,key:r,name:s,pollingInterval:a,transport:i=>n({...i,retryCount:0}),type:"walletClient"}),account:t?se(t):void 0};return{...o,...Gi(o)}}const Nn={id:65,name:"OKTC Testnet",network:"oktc-testnet",nativeCurrency:{decimals:18,name:"OKT",symbol:"OKT"},rpcUrls:{default:{http:["https://exchaintestrpc.okex.org"]},public:{http:["https://exchaintestrpc.okex.org"]}},blockExplorers:{default:{name:"oklink",url:"https://www.oklink.com/oktc-test"}},testnet:!0},ht=t=>new Promise(e=>setTimeout(e,t)),Ee=["USDC","USDT","KUSD"],Yi=["USDC","USDT"],D={},_={};let j,Oe,C,E={},Xt=!1,H;async function de(t){const{request:e}=await j.simulateContract(t),n=await Oe.writeContract(e);window.confirm("Do you want to view the transaction details?")&&window.open(`https://www.okx.com/explorer/oktc-test/tx/${n}`)}function we(t){console.error(t),t.message.includes("Details:")===!0?window.alert(t.message.substring(t.message.indexOf("Details:"),t.message.indexOf("Version:"))):window.alert(t.message)}window.addEventListener("load",async()=>{E=(await(await fetch("../json/conf.json")).json()).testnet;let t="",e=[];H=document.querySelector("#loading");const n=document.querySelector("footer"),r=document.querySelector("#home"),s=document.querySelector("#defi"),a=document.querySelector("#docs"),o=document.querySelector("#account-access");function i(f){f.preventDefault();const d=f.target.id||f.target.parentElement.id;if(d===t)return;window.scrollTo({top:0,behavior:"instant"});const p=document.querySelector("main");if(p&&p.remove(),d==="home"){document.body.insertBefore(document.querySelector("#template-home").content.cloneNode(!0),n),t=d,r.classList.add("linked"),s.classList.remove("linked"),a.classList.remove("linked");const h=document.querySelector("#countdown");ae.extend(Wr);const y=ae("2023-7-8 19:30");ae()<y?(h.innerHTML=ae.duration(y.diff(ae())).format("[<div>]D [<small>days</small></div><div>]H [<small>hours</small></div><div>]m [<small>minutes</small></div>]"),setInterval(()=>{h.innerHTML=ae.duration(y.diff(ae())).format("[<div>]D [<small>days</small></div><div>]H [<small>hours</small></div><div>]m [<small>minutes</small></div>]")},3e4)):h.style.display="none"}else d==="defi"?(document.body.insertBefore(document.querySelector("#template-defi").content.cloneNode(!0),n),t=d,r.classList.remove("linked"),s.classList.add("linked"),a.classList.remove("linked"),Ji(),Qi(),Zi(),Xi()):d==="docs"&&(document.body.insertBefore(document.querySelector("#template-docs").content.cloneNode(!0),n),t=d,r.classList.remove("linked"),s.classList.remove("linked"),a.classList.add("linked"));d&&f.action!=="back"?e.push(d):f.action==="back"&&e.pop(),window.history.replaceState(e,null)}async function c(){console.log("fetchAccountData");const[f]=await Oe.getAddresses();C=f,Xt=await j.readContract({address:E.accounts.address,abi:D.accounts,functionName:"isAgent",args:[C],account:C})}async function l(){o.setAttribute("disabled",!0),H.style.display="flex";try{window.ethereum.on("chainChanged",c),window.ethereum.on("accountsChanged",c),j=ji({chain:Nn,transport:Ho()}),Oe=Vi({chain:Nn,transport:No(window.ethereum)}),D.presale=(await(await fetch(`../json/${E.presale.abi}`)).json()).abi,D.accounts=(await(await fetch(`../json/${E.accounts.abi}`)).json()).abi,D.exchange=(await(await fetch(`../json/${E.exchange.abi}`)).json()).abi,D.stakingpool=(await(await fetch(`../json/${E.stakingpool.abi}`)).json()).abi;for(const d in E.tokens)D[d]=(await(await fetch(`../json/${E.tokens[d].abi}`)).json()).abi;window.ethereum.isConnected()===!0?await Oe.requestPermissions({eth_accounts:{}}):await Oe.requestAddresses(),C===void 0&&await c();const f=await j.getBalance({address:C});console.log(`Balance: ${Y(f)} OKT`),s.style.display="flex",o.textContent="Disconnect",o.onclick=u,o.removeAttribute("disabled")}catch(f){o.removeAttribute("disabled"),f.code===4001?console.log("Please connect to Wallet."):console.error(f)}finally{H.style.display="none"}}async function u(){e[e.length-1]==="docs"?(e=["home","docs"],window.history.replaceState(e,null)):e[e.length-1]==="defi"?(e=[],i({preventDefault:()=>{},target:{id:"home"},action:""})):e[e.length-1]==="home"&&(e=["home"],window.history.replaceState(e,null)),C=void 0,j=void 0,Oe=void 0,o.textContent="Connect",o.onclick=l,s.style.display="none"}r.onclick=i,s.onclick=i,a.onclick=i,o.onclick=l,window.history.pushState(e,null),i({preventDefault:()=>{},target:{id:"home"},action:""}),window.addEventListener("popstate",f=>{e.length>1&&(i({preventDefault:()=>{},target:{id:e[e.length-2]},action:"back"}),window.history.pushState(e,null))})});async function Qe([t,e,n]){H.style.display="flex";try{const r=await j.getBlockNumber(),s=await j.createContractEventFilter({address:E.tokens[t].address,abi:D[t],eventName:"Approval",args:{owner:C},fromBlock:r}),a=Date.now();await de({address:E.tokens[t].address,abi:D[t],functionName:"approve",args:[e,n],account:C});const o=Date.now()-a;console.log(o);const i=4e4;o<i&&(console.log(i-o),await ht(i-o));let c=await j.getFilterLogs({filter:s});for(;c.length===0;)c=await j.getFilterLogs({filter:s}),await ht(5e3);c.length>0&&(console.log(c),_[t].approved=!0,clearInterval(_[t].approveId))}catch(r){we(r)}finally{H.style.display="none"}}async function ge(t){const e=await j.readContract({address:E.tokens[t].address,abi:D[t],functionName:"balanceOf",args:[C],account:C}),n=await j.readContract({address:E.tokens[t].address,abi:D[t],functionName:"decimals",account:C});return[e,n]}async function Ji(){const t=document.querySelector("#kdsk"),e=document.querySelector("#presale .unlock-date"),n=document.querySelector("#presale input[name=kdsk]"),r=document.querySelector("#presale select[name=usd]"),s=document.querySelector("#presale input[name=usd]"),a=document.querySelector("#presale .warning"),o=document.querySelector("#presale button[name=buy]"),i=document.querySelector("#presale button[name=claim]");let c=await j.readContract({address:E.presale.address,abi:D.presale,functionName:"getParticipant",account:C});c.lockedAmount>0&&(t.textContent=Y(c.lockedAmount),e.textContent=ae(Number(c.unlockDate)*1e3).format("ddd, MMM D, YYYY h:mm A")),r.onchange=async()=>{const[u,f]=await ge(r.value);u<le(n.value,f)?a.style.display="inline":a.style.display="none"},n.oninput=async()=>{if(!(n.value.length>0&&parseFloat(n.value)>0)){n.value="",s.textContent="0",a.style.display="none";return}const[u,f]=await j.readContract({address:E.presale.address,abi:D.presale,functionName:"getRate",account:C});s.value=Y(ie(n.value)*f/u);const[d,p]=await ge(r.value);d<le(s.value,p)?a.style.display="inline":a.style.display="none"};async function l(){if(n.value.length>0&&parseFloat(n.value)>0){if(parseFloat(n.value)<2500)return window.alert(`Minimum amount you can buy is 2500 KDSK.

The amount you're buying is lesser than the minimum allowed`);H.style.display="flex";try{const u=await j.readContract({address:E.tokens[r.value].address,abi:D[r.value],functionName:"allowance",args:[C,E.presale.address],account:C}),f=await j.readContract({address:E.tokens[r.value].address,abi:D[r.value],functionName:"decimals",account:C}),d=le(s.value,f);if(u<d){window.alert(`"Allow" this dapp to access ${s.value} ${r.value}. This action will not transfer any amount from your account, it is rather to approve the amount that can be transferred.`),o.classList.add("allow"),o.innerHTML="<div></div>Allow<span>7723</span>",o.onclick=Qe.bind(this,[r.value,E.presale.address,d]),(_[r.value]===void 0||_[r.value].handled===!0)&&(_[r.value]={approveId:null,approved:!1,handleId:null,handled:!1},_[r.value].handleId=setInterval(()=>{if(_[r.value].handled===!0){clearInterval(_[r.value].handleId);return}_[r.value].approved===!0&&(o.classList.remove("allow"),o.innerHTML="<div></div>Buy<span>7723</span>",o.onclick=l,H.style.display="none",clearInterval(_[r.value].handleId),_[r.value].handled=!0)},1500)),H.style.display="none";return}const p=await j.getBlockNumber(),h=await j.createContractEventFilter({address:E.presale.address,abi:D.presale,eventName:"Sold",args:{buyer:C},fromBlock:p}),y=Date.now();await de({address:E.presale.address,abi:D.presale,functionName:"buy",args:[E.tokens[r.value].address,d],account:C});const m=Date.now()-y;console.log(m);const g=4e4;m<g&&(console.log(g-m),await ht(g-m));let k=await j.getFilterLogs({filter:h});for(;k.length===0;)k=await j.getFilterLogs({filter:h}),await ht(5e3);k.length>0&&(console.log(k),s.value="",n.value="",c=await j.readContract({address:E.presale.address,abi:D.presale,functionName:"getParticipant",account:C}),c.lockedAmount>0&&(t.textContent=Y(c.lockedAmount),e.textContent=ae(Number(c.unlockDate)*1e3).format("ddd, MMM D, YYYY h:mm A")))}catch(u){we(u)}finally{H.style.display="none"}}}o.onclick=l,i.onclick=async()=>{H.style.display="flex";try{const[u]=await ge("KDSK");await de({address:E.presale.address,abi:D.presale,functionName:"claim",account:C});const[f]=await ge("KDSK"),d=f-u;window.alert(`You have successfully claimed ${Y(d)} KDSK`)}catch(u){we(u)}finally{H.style.display="none"}}}function Zi(){const t=document.querySelector("video"),e=document.querySelector("#cash input[name=address]"),n=document.querySelector("#cash button[name=scan]"),r=document.querySelector("#cash input[name=amount]"),s=document.querySelector("#cash .cash-amount.warning"),a=document.querySelector("#cash button[name=all]"),o=document.querySelector("#cash select[name=token]"),i=document.querySelector("#cash-in"),c=document.querySelector("#cash-out"),l=document.querySelector("#claim");let u;l.onclick=async()=>{try{const p=await j.getBlock();if(ae(Number(p.timestamp)*1e3).day()!==6)return window.alert("Commissions can only be claimed on Saturdays");if(Xt===!0)return window.alert(`You're not an agent. Only agents should press the "Claim" button`);const h=await j.readContract({address:E.exchange.address,abi:D.exchange,functionName:"getAgentCommissions",account:C});window.confirm(`You have ${Y(h)} ${o.value}, Do you want to claim it now?`)&&await de({address:E.exchange.address,abi:D.exchange,functionName:"claimCommissions",args:[E.tokens[o.value].address],account:C})}catch(p){we(p)}finally{H.style.display="none"}},r.oninput=async()=>{clearTimeout(u),u=setTimeout(async()=>{if(r.value.length===0){s.style.display="none";return}const[p,h]=await ge(o.value);p<le(r.value,h)?s.style.display="inline":s.style.display="none"},1e3)},n.onclick=()=>{t.style.display="block",d.start()},a.onclick=async()=>{r.value=Y(await j.readContract({address:E.tokens[o.value].address,abi:D[o.value],functionName:"balanceOf",args:[C],account:C}))},i.onclick=async()=>{if(!(r.value.trim()&&parseFloat(r.value)>0))return;if(ue(e.value)===!1)return window.alert("The agent's address is invalid. Please check!");if(Xt===!1)return window.alert(`You're not an agent. Only agents should press the "Cash In" button`);const[p,h]=await ge(o.value),y=le(r.value,h);if(p<y)return window.alert("Agent has insufficient balance!");H.style.display="flex";try{await de({address:E.exchange.address,abi:D.exchange,functionName:"cashIn",args:[D[o.value].address,e.value,y],account:C})}catch(m){console.error(m),window.alert(m.message)}finally{H.style.display="none"}};async function f(){if(!(r.value.trim()&&parseFloat(r.value)>0))return;if(ue(e.value)===!1)return window.alert("The agent's address is invalid. Please check!");H.style.display="flex";const[p,h]=await ge(o.value),y=le(r.value,h);if(p<y)return H.style.display="none",window.alert("You have insufficient balance!");try{const m=await j.readContract({address:E.exchange.address,abi:D.exchange,functionName:"getStableTokenOptions",args:[E.tokens[o.value].address],account:C});let g;if(y>m.minTariffAmount&&y<=m.maxTariffAmount?g=y*m.tariffPercentMultiplier/m.tariffPercentDivider:y<=m.minTariffAmount?g=m.minTariff:y>m.maxTariffAmount&&(g=m.maxTariff),window.alert(`You are about cash out ${Se(y,h)} ${o.value}.

You will be charged a fee of ${parseFloat(Se(g,h)).toFixed(2)} ${o.value}.

TOTAL = ${parseFloat(Se(y+g,h)).toFixed(2)} ${o.value}`),await j.readContract({address:"0xFBA3912Ca04dd458c843e2EE08967fC04f3579c2",abi:D[o.value],functionName:"allowance",args:[C,E.exchange.address],account:C})<y){window.alert(`"Allow" this dapp to access ${r.value} ${o.value}. This action will not transfer any amount from your account, it is rather to approve the amount that can be transferred.`),i.style.display="none",c.classList.add("allow"),c.innerHTML="<div></div>Allow<span>009</span>",c.onclick=Qe.bind(this,[o.value,E.exchange.address,y]),(_[o.value]===void 0||_[o.value].handled===!0)&&(_[o.value]={approveId:null,approved:!1,handleId:null,handled:!1},_[o.value].handleId=setInterval(()=>{if(_[o.value].handled===!0){clearInterval(_[o.value].handleId);return}_[o.value].approved===!0&&(i.style.display="flex",c.classList.remove("allow"),c.innerHTML="<div></div>Cash Out<span>009</span>",c.onclick=f,H.style.display="none",clearInterval(_[o.value].handleId),_[o.value].handled=!0)},1500)),H.style.display="none";return}await de({address:E.exchange.address,abi:D.exchange,functionName:"cashOut",args:[E.tokens[o.value].address,e.value,y],account:C})}catch(m){console.error(m),window.alert(m.message)}finally{H.style.display="none"}}c.onclick=f;for(const p of E.cashExchangeSelect){const h=document.createElement("option");h.text=p,o.add(h)}const d=new R(t,p=>{if(console.log("decoded qr code:",p),ue(p)===!1)return window.alert("The scanned qr-code returned an invalid address");e.value=p,t.style.display="none"},{highlightScanRegion:!0,highlightCodeOutline:!0,returnDetailedScanResult:!0,onDecodeError:p=>{t.style.display="none",console.log(p),window.alert(p)}})}function Qi(){const t=document.querySelector("#exchange input[name=from_token]"),e=document.querySelector("#exchange button[name=from_token]"),n=document.querySelector("#exchange select[name=from_token"),r=document.querySelector("#exchange .warning"),s=document.querySelector("#switch"),a=document.querySelector("#exchange input[name=to_token]"),o=document.querySelector("#exchange select[name=to_token"),i=document.querySelector("#exchange button[name=swap]");async function c(u=!1){if(n.value===o.value)return;let f;Ee.includes(n.value)===!1&&(console.trace("fromTokenRate"),f=await j.readContract({address:E.exchange.address,abi:D.exchange,functionName:"getRate",args:[E.tokens[n.value].address],account:C}));let d;if(Ee.includes(o.value)===!1&&(console.trace("toTokenRate"),d=await j.readContract({address:E.exchange.address,abi:D.exchange,functionName:"getRate",args:[E.tokens[o.value].address],account:C})),Ee.includes(n.value)===!0&&Ee.includes(o.value)===!0&&(f={multiplier:1n,divider:1n},d={multiplier:1n,divider:1n}),u===!0){if(!(a.value.length&&parseFloat(a.value)>0))return;Ee.includes(o.value)===!0?t.value=Y(ie(a.value)*f.divider/f.multiplier):t.value=Y(ie(a.value)*d.multiplier/d.divider)}else{if(!(t.value.length>0&&parseFloat(t.value)>0)){r.style.display="none";return}Ee.includes(n.value)===!0?a.value=Y(ie(t.value)*d.divider/d.multiplier):a.value=Y(ie(t.value)*f.multiplier/f.divider)}const p=await j.readContract({address:E.tokens[n.value].address,abi:D[n.value],functionName:"balanceOf",args:[C],account:C}),h=await j.readContract({address:E.tokens[n.value].address,abi:D[n.value],functionName:"decimals",account:C});p<le(t.value,h)?r.style.display="inline":r.style.display="none"}t.oninput=()=>{if(!(t.value.length>0&&parseFloat(t.value)>0)){a.value="",r.style.display="none";return}c()},e.onclick=async()=>{const u=await j.readContract({address:E.tokens[n.value].address,abi:D[n.value],functionName:"decimals",account:C});t.value=Se(await j.readContract({address:E.tokens[n.value].address,abi:D[n.value],functionName:"balanceOf",args:[C],account:C}),u),c()},n.onchange=u=>{const f=E.tokenExchangeSelect.length-1;let d=u.target.selectedIndex;o.selectedIndex===f&&d===f?o.selectedIndex=--d:d===o.selectedIndex&&(o.selectedIndex=++d),c()},s.onclick=()=>{const u=n.selectedIndex,f=o.selectedIndex;o.selectedIndex=u,n.selectedIndex=f;const d=t.value,p=a.value;t.value=p,a.value=d,Ee.includes(n.value)===!0?c(!0):c()},a.oninput=()=>{c(!0)},o.onchange=u=>{const f=E.tokenExchangeSelect.length-1;let d=u.target.selectedIndex;n.selectedIndex===f&&d===f?n.selectedIndex=--d:d===n.selectedIndex&&(n.selectedIndex=++d),c()};async function l(){if(t.value.length&&parseFloat(t.value)>0){H.style.display="flex";try{const u=await j.readContract({address:E.tokens[n.value].address,abi:D[n.value],functionName:"allowance",args:[C,E.exchange.address],account:C}),f=await j.readContract({address:E.tokens[n.value].address,abi:D[n.value],functionName:"decimals",account:C}),d=le(t.value,f);if(u<d){window.alert(`"Allow" this dapp to access ${t.value} ${n.value}. This action will not transfer any amount from your account, it is rather to approve the amount that can be transferred.`),i.classList.add("allow"),i.innerHTML="<div></div>Allow<span>007</span>",i.onclick=Qe.bind(this,[n.value,E.exchange.address,d]),(_[n.value]===void 0||_[n.value].handled===!0)&&(_[n.value]={approveId:null,approved:!1,handleId:null,handled:!1},_[n.value].handleId=setInterval(()=>{if(_[n.value].handled===!0){clearInterval(_[n.value].handleId);return}_[n.value].approved===!0&&(i.classList.remove("allow"),i.innerHTML="<div></div>Swap<span>007</span>",i.onclick=l,H.style.display="none",clearInterval(_[n.value].handleId),_[n.value].handled=!0)},1500)),H.style.display="none";return}await de({address:E.exchange.address,abi:D.exchange,functionName:"convert",args:[E.tokens[n.value].address,E.tokens[o.value].address,d],account:C}),t.value="",a.value="";const p=await j.readContract({address:E.exchange.address,abi:D.exchange,functionName:"tradeFeePercentMultiplier",account:C}),h=await j.readContract({address:E.exchange.address,abi:D.exchange,functionName:"tradeFeePercentDivider",account:C}),y=d*p/h;let m;Yi.includes(n.value)===!0?m=o.value:m=n.value,window.alert(`You have been deducted ${Se(y,f)} ${m} as trade fee.`)}catch(u){we(u)}finally{H.style.display="none"}}}i.onclick=l;for(let u=0;u<E.tokenExchangeSelect.length;u++){const f=document.createElement("option"),d=document.createElement("option");f.text=d.text=E.tokenExchangeSelect[u],n.add(f),o.add(d)}n.selectedIndex=0,o.selectedIndex=1}function Xi(){const t=new Intl.NumberFormat("en",{minimumFractionDigits:2}),e=document.querySelector("#pool input[type=range]"),n=document.querySelector("#locking-days"),r=document.querySelector("#fixed-apy"),s=document.querySelector("#days"),a=document.querySelector("#forecast"),o=document.querySelector("#pool input[name=stake]"),i=document.querySelector("#pool .stake-balance.warning"),c=document.querySelector("#pool button[name=stake-all]"),l=document.querySelector("#pool button[name=stake]"),u=document.querySelector("#pool button[name=stakes]"),f=document.querySelector("#pool input[name=unstake]"),d=document.querySelector("#pool .unstake-balance.warning"),p=document.querySelector("#pool button[name=unstake-all]"),h=document.querySelector("#pool button[name=unstake]");let y,m;function g(){if(!(o.value.length>0&&parseFloat(o.value)>0))return;const I=parseFloat(o.value);let v=0;n.value==="91"?v=.230391:n.value==="182"?v=.328012:n.value==="364"&&(v=.626479),a.textContent=t.format((I+I*((1+v/364)**parseInt(e.value)-1)).toFixed(2))}o.oninput=async()=>{clearTimeout(y),y=setTimeout(async()=>{const I=await j.readContract({address:E.tokens.KDSK.address,abi:D.KDSK,functionName:"balanceOf",args:[C],account:C});if(o.value.length===0){i.style.display="none";return}I<ie(o.value)?i.style.display="inline":i.style.display="none"},1e3),g()},c.onclick=async()=>{o.value=Y(await j.readContract({address:E.tokens.KDSK.address,abi:D.KDSK,functionName:"balanceOf",args:[C],account:C})),g()},p.onclick=async()=>{f.value=Y(await j.readContract({address:E.stakingpool.address,abi:D.stakingpool,functionName:"getUnlockedAmount",account:C}))},n.onchange=I=>{r.textContent=I.target.selectedOptions[0].dataset.apy,g()};async function k(){if(f.value.length&&f.value>0){H.style.display="flex";try{const I=await j.readContract({address:E.tokens.stKDSK.address,abi:D.stKDSK,functionName:"allowance",args:[C,E.stakingpool.address],account:C}),v=ie(f.value);if(I<v){window.alert(`"Allow" this dapp to access ${f.value} stKDSK. This action will not transfer any amount from your account, it is rather to approve the amount that can be transferred.`),h.innerHTML="Allow",h.classList.add("allow"),h.onclick=Qe.bind(this,["stKDSK",E.stakingpool.address,v]),(_.stKDSK===void 0||_.stKDSK.handled===!0)&&(_.stKDSK={approveId:null,approved:!1,handleId:null,handled:!1},_.stKDSK.handleId=setInterval(()=>{if(_.stKDSK.handled===!0){clearInterval(_.stKDSK.handleId);return}_.stKDSK.approved===!0&&(h.classList.remove("allow"),h.innerHTML='<i class="fas fa-coins"></i>&nbsp;Unstake',h.onclick=k,H.style.display="none",clearInterval(_.stKDSK.handleId),_.stKDSK.handled=!0)},1500)),H.style.display="none";return}await de({address:E.stakingpool.address,abi:D.stakingpool,functionName:"unstake",args:[v],account:C}),f.value=""}catch(I){we(I)}finally{H.style.display="none"}}}h.onclick=k,f.oninput=async()=>{clearTimeout(m),m=setTimeout(async()=>{const[I]=await ge("stKDSK");if(f.value.length===0){d.style.display="none";return}I<ie(f.value)?d.style.display="inline":d.style.display="none"},1e3)};async function O(){if(o.value.length&&o.value>0){H.style.display="flex";try{const I=await j.readContract({address:E.tokens.KDSK.address,abi:D.KDSK,functionName:"allowance",args:[C,E.stakingpool.address],account:C}),v=ie(o.value);if(I<v){window.alert(`"Allow" this dapp to access ${o.value} KDSK. This action will not transfer any amount from your account, it is rather to approve the amount that can be transferred.`),l.innerHTML="Allow",l.classList.add("allow"),l.onclick=Qe.bind(this,["KDSK",E.stakingpool.address,v]),(_.KDSK===void 0||_.KDSK.handled===!0)&&(console.log("Watching..."),_.KDSK={approveId:null,approved:!1,handleId:null,handled:!1},_.KDSK.handleId=setInterval(()=>{if(_.KDSK.handled===!0){clearInterval(_.KDSK.handleId);return}_.KDSK.approved===!0&&(l.classList.remove("allow"),l.innerHTML='<i class="fas fa-piggy-bank"></i>&nbsp;Stake',l.onclick=O,H.style.display="none",clearInterval(_.KDSK.handleId),_.KDSK.handled=!0)},1500)),H.style.display="none";return}await de({address:E.stakingpool.address,abi:D.stakingpool,functionName:"stake",args:[BigInt(n.value),v],account:C}),o.value=""}catch(I){we(I)}finally{H.style.display="none"}}}l.onclick=O,e.oninput=function(){s.textContent=e.value,g()},r.textContent=n.selectedOptions[0].dataset.apy,s.textContent=e.value,u.onclick=async()=>{H.style.display="flex";try{const I=await j.readContract({address:E.stakingpool.address,abi:D.stakingpool,functionName:"getUnlockedAmount",account:C}),v=await j.readContract({address:E.stakingpool.address,abi:D.stakingpool,functionName:"issuedEarningsIndex",account:C}),$=await j.readContract({address:E.stakingpool.address,abi:D.stakingpool,functionName:"getStakes",account:C});if($.length===0)return window.alert("You have no amount staked.");let w=0n;const N=$.filter(A=>A.amount!=="0").map(A=>{w+=A.amount;let T="";A.lockingDays===91?T="25.9%":A.lockingDays===182?T="38.8%":A.lockingDays===364&&(T="87.0%");const U=Number(v-A.startedAtEarningsIndex),J=A.lockingDays-U;return U>=A.lockingDays?` ${parseFloat(Y(A.amount)).toFixed(2)} stKDSK @ ${T} APY`:` ${parseFloat(Y(A.amount)).toFixed(2)} stKDSK @ ${T} APY ( ${J} ${J>1?"days":"day"} more)`});N.unshift("Stakes:"),N.push(`
 Total Locked: ${parseFloat(Y(w)).toFixed(2)} stKDSK`),N.push(` Total Unlocked: ${parseFloat(Y(I)).toFixed(2)} stKDSK`),H.style.display="none",window.alert(N.join(`
`))}catch(I){we(I)}finally{H.style.display="none"}}}export{b as B,We as H,Ye as I,he as a,fe as b,Et as c,Fa as d,Xe as e,mt as g,ue as i,X as s};
